<!DOCTYPE html>
<!--[if IEMobile 7]>
<html class="iem7"  lang="en" dir="ltr"><![endif]-->
<!--[if lte IE 6]>
<html class="lt-ie9 lt-ie8 lt-ie7"  lang="en" dir="ltr"><![endif]-->
<!--[if (IE 7)&(!IEMobile)]>
<html class="lt-ie9 lt-ie8"  lang="en" dir="ltr"><![endif]-->
<!--[if IE 8]>
<html class="lt-ie9"  lang="en" dir="ltr"><![endif]-->
<!--[if IE 9]>
<html class="lt-ie10"  lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema#"><![endif]-->
<!--[if (gte IE 10)|(gt IEMobile 7)]><!-->
<html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema#" class="js js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths tablesaw-enhanced" style="--wm-toolbar-height: 67px;"><!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><script src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/utag.js" type="text/javascript" async=""></script><script type="text/javascript" async="" src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/wap-ssg-intel.js"></script><script src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/gtm.js" type="text/javascript" async=""></script><script async="" src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/analytics.js"></script><script src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/athena.js" type="text/javascript"></script><link type="text/css" rel="stylesheet" id="dark-mode-custom-link"><link type="text/css" rel="stylesheet" id="dark-mode-general-link"><style lang="en" type="text/css" id="dark-mode-custom-style"></style><style lang="en" type="text/css" id="dark-mode-native-style"></style><style lang="en" type="text/css" id="dark-mode-native-sheet"></style>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app218.us.archive.org';v.server_ms=473;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/bundle-playback.js" charset="utf-8"></script>
<script type="text/javascript" src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/wombat.js" charset="utf-8"></script>
<script>window.RufflePlayer=window.RufflePlayer||{};window.RufflePlayer.config={"autoplay":"on","unmuteOverlay":"hidden","showSwfDownload":true};</script>
<script type="text/javascript" src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/ruffle.js"></script>
<script type="text/javascript">
    __wm.init("https://web.archive.org/web");
  __wm.wombat("https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3","20200503051337","https://web.archive.org/","web","https://web-static.archive.org/_static/",
	      "1588482817");
</script>
<link rel="stylesheet" type="text/css" href="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/banner-styles.css">
<link rel="stylesheet" type="text/css" href="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/iconochive.css">
<!-- End Wayback Rewrite JS Include -->

  <meta charset="utf-8">
<meta property="article:programming_language" content="C/C++">
<meta property="article:skill_level" content="Beginner, Intermediate">
<meta property="article:processor_class" content="Intel® Core™ Processor">
<meta property="article:operating_system" content="Linux*, Microsoft Windows*">
<meta property="article:content_type" content="Code Sample, Tutorial">
<meta property="article:technology" content="OpenGL*, Vulkan*">
<meta property="article:tag" content="Game Development, Graphics, Rendering">
<script type="application/ld+json">{"@context":"https:\/\/web.archive.org\/web\/20200503051337\/http:\/\/schema.org","mainEntityofPage":"https:\/\/web.archive.org\/web\/20200503051337\/https:\/\/software.intel.com","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https:\/\/web.archive.org\/web\/20200503051337\/https:\/\/software.intel.com\/sites\/default\/files\/managed\/01\/a1\/intel_blue.png","name":"thumbnail","width":"86","height":"60"},"name":"Intel"},"@type":"TechArticle","learningResourceType":"article","headline":"API without Secrets: Introduction to Vulkan* Part 3: First Triangle","name":"API without Secrets: Introduction to Vulkan* Part 3: First Triangle","author":{"@type":"Person","name":"Pawel L."},"datePublished":"2016-04-06 10:52:52","dateModified":"2019-11-25 13:50:14","url":"https:\/\/web.archive.org\/web\/20200503051337\/https:\/\/software.intel.com\/articles\/api-without-secrets-introduction-to-vulkan-part-3","image":{"@type":"ImageObject","url":"https:\/\/web.archive.org\/web\/20200503051337\/https:\/\/software.intel.com\/sites\/default\/files\/d9\/e4\/search_publish_icon.jpeg","name":"thumbnail","width":54,"height":54},"inLanguage":"en","description":"","thumbnailURL":"https:\/\/web.archive.org\/web\/20200503051337\/https:\/\/software.intel.com\/sites\/default\/files\/d9\/e4\/search_publish_icon.jpeg","uploadDate":"","operatingSystem":"","applicationCategory":"","audience":"20807,Beginner,20808,Intermediate","genre":[],"keywords":"20787,Linux*,86070,Microsoft Windows*,20802,C\/C++,36920,OpenGL*,86573,Vulkan*,85764,Game Development,20864,Graphics,80675,Rendering,86469,Gameteam"}</script>
<script type="text/javascript">
//configure analytics
var wa_ssg_data=
{"wa_last_mod_date":"April 6, 2016","wa_ssg_type_macro":"article","wa_ssg_title":"API without Secrets: Introduction to Vulkan* Part 3: First Triangle","wa_ssg_nid":"623695","wa_ssg_local_code":"en_US","wa_ssg_operating_system":"20787,Linux*,86070,Microsoft Windows*","wa_ssg_programming_language":"20802,C\/C++","wa_ssg_technology":"36920,OpenGL*,86573,Vulkan*","wa_ssg_topic":"85764,Game Development,20864,Graphics,80675,Rendering","wa_ssg_internal_tags":"86469,Gameteam","wa_ssg_type_micro":"20780,Code Sample,20783,Tutorial"}</script>
<link rel="canonical" href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3">
<script>dataLayer = [{"timestamp":1588473406,"entityType":"node","entityBundle":"article","entityId":"623695","entityLabel":"API without Secrets: Introduction to Vulkan* Part 3: First Triangle","entityLanguage":"en","entityTnid":"623695","entityVid":"4331687","entityUid":"1183993","entityCreated":"1459965172","entityStatus":"1","entityUuid":"d4dca2fc-6652-47ce-b6e4-b480cdfc6955","userUuid":"192b3516-0d5e-4e6f-bdc7-df9538ea1665","userInit":"1","drupalLanguage":"en","userUid":0,"systemId":"1","systemName":"idzDrupal"}];</script>
<link rel="shortcut icon" href="https://web.archive.org/web/20200503051337im_/https://software.intel.com/sites/all/themes/zero/favicon.ico" type="image/vnd.microsoft.icon">
<meta property="article:internal_tag" content="Gameteam">
<meta property="article:published_time" content="2019-11-25 21:50:14 UTC">
<meta property="article:last_edit_time" content="2016-04-06 07:00:00 UTC">
<meta property="og:title" content="API without Secrets: Introduction to Vulkan* Part 3: First Triangle">
<link href="https://web.archive.org/web/20200503051337/https://software.intel.com/zh-cn/articles/api-without-secrets-introduction-to-vulkan-part-3" rel="alternate" hreflang="zh-cn">
<meta property="article:authored_time" content="2016-04-06 17:52:52 UTC">
<meta property="og:description" content="This tutorial presents how to draw first triangle! At the beginning a render pass with one subpass is created. Next image views and framebuffers are created for each swap chain image. After that graphics pipeline creation is presented for which shader modules (with SPIR-V shaders) are required and also viewport, rasterization, multisampling, and color blending information are necessary. Last part presents command pool creation and command buffers allocation and recording.">
<meta property="og:image" content="https://web.archive.org/web/20200503051337im_/https://software.intel.com/sites/default/files/d9/e4/search_publish_icon.jpeg">
<meta property="article:attachment" content="https://software.intel.com/sites/default/files/managed/b7/8c/api-without-secrets-introduction-to-vulkan-part-3.pdf">
<meta property="article:body" content="DownloadView PDF [885 KB]Back to: Part 2 Swap Chain	Next up: Part 4 Vertex AttributesTutorial 3: First Triangle – Graphics Pipeline and DrawingIn this tutorial we will finally draw something on the screen. One single triangle should be just fine for our first Vulkan-generated “image.”The graphics pipeline and drawing in general require lots of preparations in Vulkan (in the form of filling many structures with even more different fields). There are potentially many places where we...">
<meta property="article:author" content="plapins">
<meta property="article:alias" content="/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3">
<meta property="og:locale" content="en">
<meta name="description" content="This tutorial presents how to draw first triangle! At the beginning a render pass with one subpass is created. Next image views and framebuffers are created for each swap chain image. After that graphics pipeline creation is presented for which shader modules (with SPIR-V shaders) are required and also viewport, rasterization, multisampling, and color blending information are necessary. Last part presents command pool creation and command buffers allocation and recording.">
<meta name="generator" content="Drupal 7 (http://drupal.org)">
<link rel="shortlink" href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/node/623695">
  <title>API without Secrets: Introduction to Vulkan* Part 3: First Triangle | Intel® Software</title>

      <meta name="MobileOptimized" content="width">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="cleartype" content="on">
  <meta property="fb:pages" content="94251532337">

  <link type="text/css" rel="stylesheet" href="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/css_lQaZfjVpwP_oGNqdtWCSpJT1EMqXdMiU84ekLLxQnc4.css" media="all">
<link type="text/css" rel="stylesheet" href="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/css_mxbvRAV0_YoXwGCXbsQzCkegc1pXHICzfd8PPQD9YE4.css" media="all">
<link type="text/css" rel="stylesheet" href="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/css_IMSTIA1KPsPKK4RA7PzUTzLgT5JmOFCO5NTtuQDr9Hk.css" media="all">
<link type="text/css" rel="stylesheet" href="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/css_WlIfyqRNruJMjDkbd0XavOLMVe1z8euF0qBhFKXzKvY.css" media="all">
<link type="text/css" rel="stylesheet" href="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/css_Jy9id_4w7kFC4Xl1Kc8wfVXpRnDHsbIGa1QBCrOkMwU.css" media="all">
  <script src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/js_qikmINIYTWe4jcTUn8cKiMr8bmSDiZB9LQqvceZ6wlM.js"></script>
<script src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/js_fDyuIEGrEBqCopqPxfNZo3fOcNiTp5Sr0AKIgjl2qcw.js"></script>
<script src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/js_CEcULLFTMV4q0ihR85UUYyqfCZWaAFqowXd3xr1wvYI.js"></script>
<script src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/BrightcoveExperiences.js"></script>
<script src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/js_3OrdPQ8A2p1O-FiM5cyjfUslA2tDKURNe4ndfamdNGg.js"></script>
<script>(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://web.archive.org/web/20200503051337/https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-17890616-1", {"cookieDomain":"auto"});var pluginUrl = 
 '//web.archive.org/web/20200503051337/https://www.google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_require', 'inpage_linkid', pluginUrl]);
_gaq.push(["_setDomainName", ".intel.com"]);
_gaq.push(["_setAllowLinker", true]);ga("send", "pageview");</script>
<script src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/js_gpTugKXwQQGP-BdHWjsf2iTkolFwkJUIKHpy0UGMoaM.js"></script>
<script src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/js_ef7Ow-vB8-SY4eO5QLzxrA-2vqzFTazq4EDPqMRxQvM.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"en-us\/","ajaxPageState":{"theme":"zero","theme_token":"K3GeKyBLIWr0jNAZgyooKJDBpVyAvHAWqeNzWdmHfU8","js":{"sites\/all\/modules\/custom\/idz_panelizer_widgets\/js\/collapse-list.min.js":1,"sites\/all\/modules\/custom\/idz_search\/js\/idz_search_block.min.js":1,"sites\/all\/modules\/custom\/bds\/resize-twitch.js":1,"sites\/all\/themes\/zero\/js\/language-selector.min.js":1,"sites\/all\/themes\/zero\/js\/mobile-language-selector.min.js":1,"sites\/all\/themes\/zero\/js\/user-dropdown.min.js":1,"sites\/all\/themes\/zero\/js\/collapse-list.min.js":1,"sites\/all\/themes\/zero\/js\/jquery.equalheights.min.js":1,"sites\/all\/themes\/zero\/js\/trunk8.min.js":1,"sites\/all\/themes\/zero\/js\/selectric-runner.min.js":1,"sites\/all\/themes\/zero\/js\/tabs.min.js":1,"sites\/all\/themes\/zero\/js\/gss_search.min.js":1,"sites\/all\/themes\/zero\/js\/comments.min.js":1,"sites\/all\/themes\/zero\/js\/user-login.min.js":1,"sites\/all\/themes\/zero\/js\/faq.min.js":1,"sites\/all\/themes\/zero\/js\/combobox.min.js":1,"sites\/all\/themes\/zero\/js\/comparison-tables.min.js":1,"sites\/all\/themes\/zero\/js\/simple-toggle.min.js":1,"sites\/all\/themes\/zero\/js\/rateus.min.js":1,"sites\/all\/themes\/zero\/js\/tabgroup.min.js":1,"sites\/all\/modules\/custom\/idz_zero\/js\/idz_zero.min.js":1,"sites\/all\/themes\/zero\/js\/comment-form-resizer.min.js":1,"misc\/jquery.js":1,"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"misc\/ui\/jquery.ui.core.min.js":1,"misc\/ui\/jquery.ui.widget.min.js":1,"misc\/ui\/jquery.ui.position.min.js":1,"misc\/ui\/jquery.ui.autocomplete.min.js":1,"sites\/all\/modules\/contrib\/dhtml_menu\/dhtml_menu.js":1,"sites\/all\/modules\/contrib\/gss\/scripts\/autocomplete.js":1,"sites\/all\/modules\/custom\/intel_belt_rewards\/intel_belt_rewards.js":1,"sites\/all\/modules\/custom\/social_block\/social-block.min.js":1,"https:\/\/web.archive.org\/web\/20200503051337\/https:\/\/sadmin.brightcove.com\/js\/BrightcoveExperiences.js":1,"sites\/all\/modules\/contrib\/quote\/quote.js":1,"sites\/all\/modules\/contrib\/google_analytics\/googleanalytics.js":1,"0":1,"sites\/all\/themes\/zero\/js\/intel-filter.min.js":1,"sites\/all\/modules\/contrib\/datalayer\/js\/getCanonical.js":1,"sites\/all\/themes\/zero\/js\/script.min.js":1,"sites\/all\/themes\/zero\/js\/vendors\/jquery\/jquery-1.10.2.min.js":1,"sites\/all\/themes\/zero\/js\/plugins\/jquery.selectric.min.js":1,"sites\/all\/themes\/zero\/js\/plugins\/jquery.inview.min.js":1,"sites\/all\/themes\/zero\/js\/plugins\/jquery.breakpoint.min.js":1,"sites\/all\/themes\/zero\/js\/plugins\/jquery.magnific-popup.js":1,"sites\/all\/themes\/zero\/js\/plugins\/jquery.waypoints.min.js":1,"sites\/all\/themes\/zero\/js\/jquery-noconflict.min.js":1,"sites\/all\/themes\/zero\/js\/vendors\/jquery\/modernizr.min.js":1,"sites\/all\/themes\/zero\/js\/zero-init.min.js":1,"sites\/all\/themes\/zero\/js\/zero-common.min.js":1,"sites\/all\/themes\/zero\/js\/zero-breakpoints.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shCore.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushBash.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushCpp.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushCSharp.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushCss.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushFortran.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushJava.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushJScript.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushPerl.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushPhp.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushPlain.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushPython.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushR.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushRuby.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushSql.min.js":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/scripts\/shBrushXml.min.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"misc\/ui\/jquery.ui.core.css":1,"misc\/ui\/jquery.ui.theme.css":1,"misc\/ui\/jquery.ui.autocomplete.css":1,"sites\/all\/modules\/custom\/bds\/bds.css":1,"modules\/book\/book.css":1,"sites\/all\/modules\/contrib\/calendar\/css\/calendar_multiday.css":1,"modules\/comment\/comment.css":1,"sites\/all\/modules\/contrib\/date\/date_api\/date.css":1,"sites\/all\/modules\/contrib\/date\/date_popup\/themes\/datepicker.1.7.css":1,"sites\/all\/modules\/contrib\/dhtml_menu\/dhtml_menu.css":1,"modules\/field\/theme\/field.css":1,"sites\/all\/modules\/custom\/intel_advanced_forum_style\/styles\/idz\/advanced-forum.idz.images.css":1,"sites\/all\/modules\/custom\/intel_advanced_forum_style\/styles\/idz\/advanced-forum.idz.structure.css":1,"modules\/node\/node.css":1,"sites\/all\/modules\/custom\/node_attachments_block\/node-attachments-block.less.css":1,"modules\/search\/search.css":1,"sites\/all\/modules\/custom\/social_block\/social-block.less.css":1,"modules\/user\/user.css":1,"modules\/forum\/forum.css":1,"sites\/all\/modules\/contrib\/views\/css\/views.css":1,"sites\/all\/modules\/contrib\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/contrib\/panels\/css\/panels.css":1,"sites\/all\/modules\/contrib\/quote\/quote.css":1,"sites\/all\/modules\/custom\/idz_panelizer_widgets\/css\/collapse-list.css":1,"modules\/contextual\/contextual.css":1,"modules\/locale\/locale.css":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/styles\/shThemeIntel.css":1,"sites\/all\/modules\/custom\/idz_zero\/css\/idz_zero.css":1,"sites\/all\/themes\/zero\/system.menus.css":1,"sites\/all\/themes\/zero\/system.messages.css":1,"sites\/all\/themes\/zero\/system.theme.css":1,"sites\/all\/themes\/zero\/css\/export.css":1,"sites\/all\/themes\/zero\/css\/styles.css":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/styles\/shCore.css":1,"sites\/all\/themes\/zero\/js\/brushes\/syntaxhighlighter\/styles\/shThemeRDark.css":1}},"dhtmlMenu":{"nav":"bullet","animation":{"effects":{"height":"height","opacity":"opacity","width":0},"speed":"500"},"effects":{"siblings":"close-same-tree","children":"none","remember":""},"filter":{"type":"blacklist","list":{"main-menu":"main-menu","management":"management","menu--firmware":"menu--firmware","menu--graphics-processing-resear":"menu--graphics-processing-resear","menu--storage":"menu--storage","menu--storage-second-footer":"menu--storage-second-footer","menu-advisor":"menu-advisor","menu-advisor-second-menu":"menu-advisor-second-menu","menu-ai-frameworks":"menu-ai-frameworks","menu-ai-frameworks-second-footer":"menu-ai-frameworks-second-footer","menu-android-resources":"menu-android-resources","menu-auto-driving-second-footer":"menu-auto-driving-second-footer","menu-automated-driving":"menu-automated-driving","menu-bi-endian-technology":"menu-bi-endian-technology","menu-business-client":"menu-business-client","menu-cluster-checker":"menu-cluster-checker","menu-cluster-checker-second-foot":"menu-cluster-checker-second-foot","menu-collaboration-suite-for-web":"menu-collaboration-suite-for-web","menu-computer-vision-sdk":"menu-computer-vision-sdk","menu-computer-vision-sdk-footer":"menu-computer-vision-sdk-footer","menu-cpu-runtime-for-opencl-appl":"menu-cpu-runtime-for-opencl-appl","menu-daal":"menu-daal","menu-dal":"menu-dal","menu-data-center":"menu-data-center","menu-data-center-second-footer":"menu-data-center-second-footer","menu-dev-api-second-footer":"menu-dev-api-second-footer","menu-devcloud":"menu-devcloud","menu-devcloud-footer":"menu-devcloud-footer","menu-development-tools":"menu-development-tools","menu-dx-second-footer":"menu-dx-second-footer","menu-footer-for-bi-endian-techno":"menu-footer-for-bi-endian-techno","menu-footer-for-intel-software-g":"menu-footer-for-intel-software-g","menu-footer-for-intel-trace-anal":"menu-footer-for-intel-trace-anal","menu-footer-intel-pal":"menu-footer-intel-pal","menu-footer-intel-tbb":"menu-footer-intel-tbb","menu-footer-menu-for-intel-activ":"menu-footer-menu-for-intel-activ","menu-footer-menu-for-intel-sdk-f":"menu-footer-menu-for-intel-sdk-f","menu-footer-menu-for-intel-unite":"menu-footer-menu-for-intel-unite","menu-fpga-academic":"menu-fpga-academic","menu-fpga-second-footer":"menu-fpga-second-footer","menu-game-dev":"menu-game-dev","menu-game-dev-second-footer":"menu-game-dev-second-footer","menu-gpa":"menu-gpa","menu-gpa-second-footer":"menu-gpa-second-footer","menu-home":"menu-home","menu-home-second-footer":"menu-home-second-footer","menu-hpc-containers-from-intel":"menu-hpc-containers-from-intel","menu-inspector-menu":"menu-inspector-menu","menu-inspector-second-footer":"menu-inspector-second-footer","menu-intel-active-management-tec":"menu-intel-active-management-tec","menu-intel-aero":"menu-intel-aero","menu-intel-aero-second-footer":"menu-intel-aero-second-footer","menu-intel-c-compiler":"menu-intel-c-compiler","menu-intel-c-compiler-footer-men":"menu-intel-c-compiler-footer-men","menu-intel-compilers":"menu-intel-compilers","menu-intel-daal-second-footer":"menu-intel-daal-second-footer","menu-intel-dist-for-pyth":"menu-intel-dist-for-pyth","menu-intel-fortran-compiler":"menu-intel-fortran-compiler","menu-intel-fortran-compiler-foot":"menu-intel-fortran-compiler-foot","menu-intel-ipp":"menu-intel-ipp","menu-intel-ipp-second-footer":"menu-intel-ipp-second-footer","menu-intel-media-sdk":"menu-intel-media-sdk","menu-intel-mkl":"menu-intel-mkl","menu-intel-mkl-second-footer":"menu-intel-mkl-second-footer","menu-intel-realsense-technology":"menu-intel-realsense-technology","menu-intel-sdk-for-opencl-applic":"menu-intel-sdk-for-opencl-applic","menu-intel-secure-device-onboard":"menu-intel-secure-device-onboard","menu-intel-security-dev-api":"menu-intel-security-dev-api","menu-intel-software-guard-extens":"menu-intel-software-guard-extens","menu-intel-system-studio":"menu-intel-system-studio","menu-intel-tbb":"menu-intel-tbb","menu-intel-trace-analyzer-and-co":"menu-intel-trace-analyzer-and-co","menu-intel-unite-plugin-software":"menu-intel-unite-plugin-software","menu-iot":"menu-iot","menu-iot-second-footer":"menu-iot-second-footer","menu-ipsxe":"menu-ipsxe","menu-ipsxe-second-footer":"menu-ipsxe-second-footer","menu-isa-l":"menu-isa-l","menu-isa-l-second-footer":"menu-isa-l-second-footer","menu-iss-second-footer":"menu-iss-second-footer","menu-machine-learning":"menu-machine-learning","menu-machine-learning-second-foo":"menu-machine-learning-second-foo","menu-media-sdk-second-footer":"menu-media-sdk-second-footer","menu-meet-the-developers":"menu-meet-the-developers","menu-menu-intel-pal":"menu-menu-intel-pal","menu-menu-whatsit":"menu-menu-whatsit","menu-modern-code":"menu-modern-code","menu-modern-code-second-footer":"menu-modern-code-second-footer","menu-movidius-ncs":"menu-movidius-ncs","menu-movidius-ncs-second-footer":"menu-movidius-ncs-second-footer","menu-mpi-library":"menu-mpi-library","menu-mpi-library-second-footer":"menu-mpi-library-second-footer","menu-networking":"menu-networking","menu-networking-second-footer":"menu-networking-second-footer","menu-openvino-toolkit":"menu-openvino-toolkit","menu-openvino-toolkit-second-foo":"menu-openvino-toolkit-second-foo","menu-performance-snapshot":"menu-performance-snapshot","menu-persistent-memory":"menu-persistent-memory","menu-persistent-memory-second-fo":"menu-persistent-memory-second-fo","menu-python-second-footer":"menu-python-second-footer","menu-realsense-tech-second-foot":"menu-realsense-tech-second-foot","menu-saffron-second-footer":"menu-saffron-second-footer","menu-second-footer-cpu-runtime":"menu-second-footer-cpu-runtime","menu-second-footer-for-intel-tru":"menu-second-footer-for-intel-tru","menu-test-ai-menu":"menu-test-ai-menu","menu-test-second-footer":"menu-test-second-footer","menu-time-coordinated-computing":"menu-time-coordinated-computing","menu-topics-technologies":"menu-topics-technologies","menu-useful-packages-modules":"menu-useful-packages-modules","menu-ux-main-menu":"menu-ux-main-menu","menu-virtual-reality":"menu-virtual-reality","menu-virtual-reality-second-foot":"menu-virtual-reality-second-foot","menu-vtune":"menu-vtune","menu-vtune-second-footer":"menu-vtune-second-footer","menu-webrtc-second-footer":"menu-webrtc-second-footer","menu-whats-it-footer":"menu-whats-it-footer","menu-windows":"menu-windows","menu-windows-second-footer":"menu-windows-second-footer","menu-xeon-phi-processor":"menu-xeon-phi-processor","navigation":"navigation","shortcut-set-1":"shortcut-set-1","user-menu":"user-menu","book-toc-401277":0,"book-toc-438058":0,"book-toc-468328":0,"book-toc-471718":0,"book-toc-473525":0,"book-toc-473527":0,"book-toc-474337":0,"book-toc-474339":0,"book-toc-487631":0,"book-toc-498033":0,"book-toc-498423":0,"book-toc-498595":0,"book-toc-498939":0,"book-toc-498954":0,"book-toc-499050":0,"book-toc-501640":0,"book-toc-501977":0,"book-toc-501979":0,"book-toc-501980":0,"book-toc-501994":0,"book-toc-502751":0,"book-toc-503882":0,"book-toc-505525":0,"book-toc-506039":0,"book-toc-507032":0,"book-toc-507536":0,"book-toc-515758":0,"book-toc-517758":0,"book-toc-519946":0,"book-toc-520075":0,"book-toc-520076":0,"book-toc-520699":0,"book-toc-522349":0,"book-toc-522354":0,"book-toc-522437":0,"book-toc-522750":0,"book-toc-522753":0,"book-toc-522755":0,"book-toc-522758":0,"book-toc-522774":0,"book-toc-522786":0,"book-toc-528316":0,"book-toc-528318":0,"book-toc-528490":0,"book-toc-528650":0,"book-toc-528760":0,"book-toc-528852":0,"book-toc-529109":0,"book-toc-529730":0,"book-toc-530757":0,"book-toc-531234":0,"book-toc-534201":0,"book-toc-534265":0,"book-toc-534451":0,"book-toc-534454":0,"book-toc-534455":0,"book-toc-535292":0,"book-toc-535512":0,"book-toc-535564":0,"book-toc-539278":0,"book-toc-539988":0,"book-toc-540373":0,"book-toc-540374":0,"book-toc-540375":0,"book-toc-540376":0,"book-toc-540377":0,"book-toc-540499":0,"book-toc-540565":0,"book-toc-540664":0,"book-toc-541291":0,"book-toc-543885":0,"book-toc-544575":0,"book-toc-551014":0,"book-toc-558501":0,"book-toc-558502":0,"book-toc-561188":0,"book-toc-561203":0,"book-toc-561218":0,"book-toc-561269":0,"book-toc-561457":0,"book-toc-561592":0,"book-toc-561831":0,"book-toc-561846":0,"book-toc-561866":0,"book-toc-561885":0,"book-toc-562383":0,"book-toc-564482":0,"book-toc-564572":0,"book-toc-564573":0,"book-toc-565519":0,"book-toc-565530":0,"book-toc-566133":0,"book-toc-566144":0,"book-toc-566726":0,"book-toc-566739":0,"book-toc-567641":0,"book-toc-567642":0,"book-toc-567643":0,"book-toc-567645":0,"book-toc-567646":0,"book-toc-569961":0,"book-toc-569963":0,"book-toc-584151":0,"book-toc-584152":0,"book-toc-584153":0,"book-toc-584154":0,"book-toc-584155":0,"book-toc-584156":0,"book-toc-584159":0,"book-toc-584182":0,"book-toc-584183":0,"book-toc-584185":0,"book-toc-586153":0,"book-toc-586154":0,"book-toc-586166":0,"book-toc-587354":0,"book-toc-587395":0,"book-toc-587399":0,"book-toc-587422":0,"book-toc-587431":0,"book-toc-587454":0,"book-toc-587463":0,"book-toc-587464":0,"book-toc-587486":0,"book-toc-587487":0,"book-toc-587489":0,"book-toc-587495":0,"book-toc-587504":0,"book-toc-587510":0,"book-toc-587542":0,"book-toc-587599":0,"book-toc-587604":0,"book-toc-587607":0,"book-toc-587629":0,"book-toc-587631":0,"book-toc-587633":0,"book-toc-587773":0,"book-toc-587776":0,"book-toc-587779":0,"book-toc-587781":0,"book-toc-587790":0,"book-toc-587853":0,"book-toc-587885":0,"book-toc-587916":0,"book-toc-587917":0,"book-toc-587919":0,"book-toc-587922":0,"book-toc-587924":0,"book-toc-587996":0,"book-toc-588028":0,"book-toc-588060":0,"book-toc-588067":0,"book-toc-588073":0,"book-toc-588172":0,"book-toc-588204":0,"book-toc-588210":0,"book-toc-588216":0,"book-toc-588217":0,"book-toc-588218":0,"book-toc-588313":0,"book-toc-588315":0,"book-toc-588345":0,"book-toc-588347":0,"book-toc-588353":0,"book-toc-588359":0,"book-toc-588360":0,"book-toc-588361":0,"book-toc-588392":0,"book-toc-588424":0,"book-toc-588458":0,"book-toc-588460":0,"book-toc-588576":0,"book-toc-588600":0,"book-toc-588606":0,"book-toc-588607":0,"book-toc-588638":0,"book-toc-588663":0,"book-toc-588743":0,"book-toc-588749":0,"book-toc-588781":0,"book-toc-588806":0,"book-toc-588886":0,"book-toc-588892":0,"book-toc-588893":0,"book-toc-589029":0,"book-toc-589035":0,"book-toc-589067":0,"book-toc-589092":0,"book-toc-589099":0,"book-toc-589145":0,"book-toc-589172":0,"book-toc-589178":0,"book-toc-589210":0,"book-toc-589235":0,"book-toc-589242":0,"book-toc-589288":0,"book-toc-589321":0,"book-toc-589353":0,"book-toc-589378":0,"book-toc-589385":0,"book-toc-589431":0,"book-toc-589483":0,"book-toc-589521":0,"book-toc-589568":0,"book-toc-589574":0,"book-toc-590353":0,"book-toc-591972":0,"book-toc-592487":0,"book-toc-594272":0,"book-toc-594555":0,"book-toc-595378":0,"book-toc-597167":0,"book-toc-598097":0,"book-toc-600044":0,"book-toc-603207":0,"book-toc-603220":0,"book-toc-604281":0,"book-toc-604531":0,"book-toc-604532":0,"book-toc-608061":0,"book-toc-608069":0,"book-toc-608085":0,"book-toc-608125":0,"book-toc-608133":0,"book-toc-608141":0,"book-toc-608149":0,"book-toc-608206":0,"book-toc-608214":0,"book-toc-608242":0,"book-toc-608270":0,"book-toc-608295":0,"book-toc-608346":0,"book-toc-608394":0,"book-toc-608418":0,"book-toc-608419":0,"book-toc-608474":0,"book-toc-608522":0,"book-toc-608546":0,"book-toc-608547":0,"book-toc-608614":0,"book-toc-608658":0,"book-toc-608678":0,"book-toc-608694":0,"book-toc-608723":0,"book-toc-608727":0,"book-toc-608743":0,"book-toc-608787":0,"book-toc-608799":0,"book-toc-608807":0,"book-toc-608851":0,"book-toc-608863":0,"book-toc-608871":0,"book-toc-610445":0,"book-toc-610465":0,"book-toc-610591":0,"book-toc-610914":0,"book-toc-611630":0,"book-toc-622387":0,"book-toc-622642":0,"book-toc-624484":0,"book-toc-624486":0,"book-toc-624488":0,"book-toc-624493":0,"book-toc-624506":0,"book-toc-628408":0,"book-toc-628730":0,"book-toc-628866":0,"book-toc-628966":0,"book-toc-629122":0,"book-toc-631691":0,"book-toc-631722":0,"book-toc-631734":0,"book-toc-631755":0,"book-toc-631786":0,"book-toc-631798":0,"book-toc-631819":0,"book-toc-631850":0,"book-toc-631862":0,"book-toc-631915":0,"book-toc-631948":0,"book-toc-631979":0,"book-toc-632012":0,"book-toc-632043":0,"book-toc-632045":0,"book-toc-632107":0,"book-toc-632109":0,"book-toc-632284":0,"book-toc-632317":0,"book-toc-632348":0,"book-toc-632381":0,"book-toc-632876":0,"book-toc-632892":0,"book-toc-632909":0,"book-toc-632941":0,"book-toc-632958":0,"book-toc-633005":0,"book-toc-633022":0,"book-toc-633069":0,"book-toc-633087":0,"book-toc-633281":0,"book-toc-639647":0,"book-toc-645821":0,"book-toc-645824":0,"book-toc-645837":0,"book-toc-645873":0,"book-toc-645903":0,"book-toc-645904":0,"book-toc-645950":0,"book-toc-645967":0,"book-toc-646014":0,"book-toc-646031":0,"book-toc-646078":0,"book-toc-656652":0,"book-toc-656666":0,"book-toc-661300":0,"book-toc-661302":0,"book-toc-661307":0,"book-toc-661364":0,"book-toc-661366":0,"book-toc-661371":0,"book-toc-661377":0,"book-toc-661428":0,"book-toc-661430":0,"book-toc-661435":0,"book-toc-661441":0,"book-toc-661492":0,"book-toc-661494":0,"book-toc-661505":0,"book-toc-661519":0,"book-toc-661523":0,"book-toc-661552":0,"book-toc-661555":0,"book-toc-661558":0,"book-toc-661563":0,"book-toc-661564":0,"book-toc-661605":0,"book-toc-661616":0,"book-toc-661669":0,"book-toc-661684":0,"book-toc-661692":0,"book-toc-661698":0,"book-toc-661733":0,"book-toc-661735":0,"book-toc-661748":0,"book-toc-661756":0,"book-toc-661762":0,"book-toc-661937":0,"book-toc-661941":0,"book-toc-661949":0,"book-toc-661955":0,"book-toc-662005":0,"book-toc-662013":0,"book-toc-662019":0,"book-toc-662066":0,"book-toc-662069":0,"book-toc-662072":0,"book-toc-662078":0,"book-toc-662103":0,"book-toc-662130":0,"book-toc-662133":0,"book-toc-662136":0,"book-toc-662142":0,"book-toc-662148":0,"book-toc-662167":0,"book-toc-670509":0,"book-toc-670512":0,"book-toc-670521":0,"book-toc-670527":0,"book-toc-670546":0,"book-toc-670548":0,"book-toc-670576":0,"book-toc-670577":0,"book-toc-670585":0,"book-toc-670591":0,"book-toc-670610":0,"book-toc-670638":0,"book-toc-670641":0,"book-toc-670702":0,"book-toc-670705":0,"book-toc-670708":0,"book-toc-670720":0,"book-toc-670766":0,"book-toc-670769":0,"book-toc-670784":0,"book-toc-670833":0,"book-toc-670848":0,"book-toc-670895":0,"book-toc-670898":0,"book-toc-670959":0,"book-toc-670962":0,"book-toc-671023":0,"book-toc-671026":0,"book-toc-671090":0,"book-toc-671152":0,"book-toc-671180":0,"book-toc-671186":0,"book-toc-672403":0,"book-toc-672529":0,"book-toc-672535":0,"book-toc-674861":0,"book-toc-676253":0,"book-toc-676255":0,"book-toc-676257":0,"book-toc-676261":0,"book-toc-676262":0,"book-toc-676264":0,"book-toc-676427":0,"book-toc-676459":0,"book-toc-676540":0,"book-toc-676604":0,"book-toc-676669":0,"book-toc-676685":0,"book-toc-676706":0,"book-toc-681616":0,"book-toc-681618":0,"book-toc-681911":0,"book-toc-681916":0,"book-toc-685375":0,"book-toc-696094":0,"book-toc-696906":0,"book-toc-699541":0,"book-toc-701415":0,"book-toc-701542":0,"book-toc-702404":0,"book-toc-702468":0,"book-toc-703101":0,"book-toc-704752":0,"book-toc-705714":0,"book-toc-705778":0,"book-toc-707344":0,"book-toc-711193":0,"book-toc-712883":0,"book-toc-712937":0,"book-toc-712966":0,"book-toc-713788":0,"book-toc-713910":0,"book-toc-713974":0,"book-toc-714038":0,"book-toc-714118":0,"book-toc-714158":0,"book-toc-714167":0,"book-toc-714183":0,"book-toc-714222":0,"book-toc-714231":0,"book-toc-714247":0,"book-toc-714295":0,"book-toc-714302":0,"book-toc-714311":0,"book-toc-714368":0,"book-toc-714432":0,"book-toc-714496":0,"book-toc-714560":0,"book-toc-714605":0,"book-toc-714685":0,"book-toc-717511":0,"book-toc-717512":0,"book-toc-720369":0,"book-toc-720718":0,"book-toc-721119":0,"book-toc-721395":0,"book-toc-721433":0,"book-toc-721564":0,"book-toc-722243":0,"book-toc-722458":0,"book-toc-722460":0,"book-toc-722465":0,"book-toc-722466":0,"book-toc-722467":0,"book-toc-722468":0,"book-toc-722524":0,"book-toc-724083":0,"book-toc-724115":0,"book-toc-724116":0,"book-toc-724117":0,"book-toc-724552":0,"book-toc-724553":0,"book-toc-724554":0,"book-toc-724599":0,"book-toc-731066":0,"book-toc-731067":0,"book-toc-733361":0,"book-toc-733378":0,"book-toc-735072":0,"book-toc-735382":0,"book-toc-735854":0,"book-toc-737016":0,"book-toc-737243":0,"book-toc-737282":0,"book-toc-737312":0,"book-toc-737456":0,"book-toc-737481":0,"book-toc-738158":0,"book-toc-740721":0,"book-toc-741434":0,"book-toc-742008":0,"book-toc-743107":0,"book-toc-743241":0,"book-toc-743254":0,"book-toc-743305":0,"book-toc-743335":0,"book-toc-743698":0,"book-toc-743723":0,"book-toc-743742":0,"book-toc-744050":0,"book-toc-744051":0,"book-toc-744355":0,"book-toc-744368":0,"book-toc-744394":0,"book-toc-744483":0,"book-toc-744547":0,"book-toc-744666":0,"book-toc-744708":0,"book-toc-745781":0,"book-toc-745794":0,"book-toc-745809":0,"book-toc-745815":0,"book-toc-745826":0,"book-toc-745832":0,"book-toc-745838":0,"book-toc-745857":0,"book-toc-745869":0,"book-toc-745877":0,"book-toc-745883":0,"book-toc-745890":0,"book-toc-745911":0,"book-toc-746171":0,"book-toc-746883":0,"book-toc-746991":0,"book-toc-747537":0,"book-toc-747737":0,"book-toc-748161":0,"book-toc-748987":0,"book-toc-749391":0,"book-toc-754724":0,"book-toc-754929":0,"book-toc-755770":0,"book-toc-757959":0,"book-toc-759136":0,"book-toc-759195":0,"book-toc-759336":0,"book-toc-760652":0,"book-toc-760671":0,"book-toc-760820":0,"book-toc-762840":0,"book-toc-762880":0,"book-toc-763183":0,"book-toc-763317":0,"book-toc-765163":0,"book-toc-765165":0,"book-toc-765182":0,"book-toc-765184":0,"book-toc-765191":0,"book-toc-765193":0,"book-toc-765210":0,"book-toc-765249":0,"book-toc-765253":0,"book-toc-767649":0,"book-toc-767803":0,"book-toc-768356":0,"book-toc-769010":0,"book-toc-769030":0,"book-toc-769074":0,"book-toc-769094":0,"book-toc-769138":0,"book-toc-769154":0,"book-toc-769158":0,"book-toc-769202":0,"book-toc-769218":0,"book-toc-769267":0,"book-toc-769303":0,"book-toc-769311":0,"book-toc-769323":0,"book-toc-769331":0,"book-toc-769368":0,"book-toc-769376":0,"book-toc-769388":0,"book-toc-769396":0,"book-toc-769463":0,"book-toc-769528":0,"book-toc-769529":0,"book-toc-769530":0,"book-toc-769531":0,"book-toc-769534":0,"book-toc-776512":0,"book-toc-776660":0,"book-toc-776770":0,"book-toc-776798":0,"book-toc-777111":0,"book-toc-777117":0,"book-toc-777163":0,"book-toc-777750":0,"book-toc-777839":0,"book-toc-778017":0,"book-toc-778108":0,"book-toc-778113":0,"book-toc-778168":0,"book-toc-778232":0,"book-toc-778236":0,"book-toc-778257":0,"book-toc-778296":0,"book-toc-778321":0,"book-toc-778333":0,"book-toc-778370":0,"book-toc-778377":0,"book-toc-778397":0,"book-toc-779040":0,"book-toc-779407":0,"book-toc-779475":0,"book-toc-779508":0,"book-toc-779626":0,"book-toc-779640":0,"book-toc-779819":0,"book-toc-780207":0,"book-toc-780875":0,"book-toc-780876":0,"book-toc-781306":0,"book-toc-781348":0,"book-toc-781364":0,"book-toc-781386":0,"book-toc-781412":0,"book-toc-781428":0,"book-toc-781450":0,"book-toc-781476":0,"book-toc-781492":0,"book-toc-781525":0,"book-toc-781661":0,"book-toc-782010":0,"book-toc-782236":0,"book-toc-782801":0,"book-toc-782871":0,"book-toc-782990":0,"book-toc-790641":0,"book-toc-793554":0,"book-toc-795979":0,"book-toc-796341":0,"book-toc-796344":0,"book-toc-796346":0,"book-toc-796348":0,"book-toc-796351":0,"book-toc-796353":0,"book-toc-796560":0,"book-toc-797056":0,"book-toc-797065":0,"book-toc-797097":0,"book-toc-797101":0,"book-toc-797216":0,"book-toc-797224":0,"book-toc-797297":0,"book-toc-797340":0,"book-toc-797423":0,"book-toc-797965":0,"book-toc-798243":0,"book-toc-798305":0,"book-toc-798601":0,"book-toc-798695":0,"book-toc-798700":0,"book-toc-801897":0,"book-toc-802011":0,"book-toc-802065":0,"book-toc-803321":0,"book-toc-806321":0,"book-toc-806409":0,"book-toc-806543":0,"book-toc-807834":0,"book-toc-808140":0,"book-toc-808197":0,"book-toc-808230":0,"book-toc-808265":0,"book-toc-808341":0,"book-toc-808476":0,"book-toc-808762":0,"book-toc-808887":0,"book-toc-810143":0,"book-toc-810152":0,"book-toc-810347":0,"book-toc-810762":0,"book-toc-810882":0,"book-toc-810895":0,"book-toc-811002":0,"book-toc-811052":0,"book-toc-811831":0,"book-toc-811840":0,"book-toc-811855":0,"book-toc-811894":0,"book-toc-812355":0,"book-toc-812360":0,"book-toc-812422":0,"book-toc-812553":0,"book-toc-812640":0,"book-toc-813079":0,"book-toc-813093":0,"book-toc-813231":0,"book-toc-813234":0,"book-toc-813491":0,"book-toc-813503":0,"book-toc-813516":0,"book-toc-813529":0,"book-toc-813541":0,"book-toc-813554":0,"book-toc-813566":0,"book-toc-813578":0,"book-toc-813620":0,"book-toc-813635":0,"book-toc-814433":0,"book-toc-814538":0,"book-toc-814674":0,"book-toc-814677":0,"book-toc-814678":0,"book-toc-814679":0,"book-toc-814681":0,"book-toc-815105":0,"book-toc-815159":0,"book-toc-815209":0,"book-toc-815346":0,"book-toc-816063":0,"book-toc-816151":0,"book-toc-816810":0,"book-toc-816916":0,"book-toc-816922":0,"book-toc-820074":0,"book-toc-820096":0,"book-toc-820119":0,"book-toc-820221":0,"book-toc-820527":0,"book-toc-820886":0,"book-toc-820890":0,"book-toc-820896":0,"book-toc-821311":0,"book-toc-821540":0,"book-toc-821728":0,"book-toc-821729":0,"book-toc-821737":0,"book-toc-821837":0,"book-toc-821849":0,"book-toc-822032":0,"book-toc-823446":0,"book-toc-827737":0,"book-toc-828677":0,"book-toc-828688":0,"book-toc-829084":0,"book-toc-829369":0,"book-toc-829643":0,"book-toc-829670":0,"book-toc-829714":0,"book-toc-830200":0,"book-toc-830224":0,"book-toc-830248":0,"book-toc-830253":0,"book-toc-830272":0,"book-toc-830313":0,"book-toc-830339":0,"book-toc-831130":0,"book-toc-831162":0,"book-toc-831294":0,"book-toc-831295":0,"book-toc-831525":0,"book-toc-831651":0,"book-toc-831918":0,"book-toc-832622":0,"book-toc-832635":0,"book-toc-832745":0,"book-toc-832747":0,"book-toc-832895":0,"book-toc-833062":0,"book-toc-833063":0,"book-toc-833066":0,"book-toc-833085":0,"book-toc-834869":0,"book-toc-834887":0,"book-toc-836435":0,"book-toc-836462":0,"book-toc-836568":0,"book-toc-836964":0,"book-toc-836965":0,"book-toc-836966":0,"book-toc-836967":0,"book-toc-836969":0,"book-toc-837066":0,"book-toc-837083":0,"book-toc-837110":0,"book-toc-837180":0,"book-toc-837237":0,"book-toc-840088":0,"book-toc-840210":0,"book-toc-840696":0,"book-toc-840711":0,"book-toc-840751":0,"book-toc-840772":0,"book-toc-840836":0,"book-toc-840838":0,"book-toc-840839":0,"book-toc-840845":0,"book-toc-840941":0,"book-toc-840943":0,"book-toc-840945":0,"book-toc-841269":0,"book-toc-841398":0,"book-toc-841399":0,"book-toc-841456":0,"book-toc-841608":0,"book-toc-842009":0,"book-toc-842079":0,"book-toc-842081":0,"book-toc-842086":0,"book-toc-842206":0,"book-toc-842224":0,"book-toc-842226":0,"book-toc-842227":0,"book-toc-842228":0,"book-toc-842229":0,"book-toc-842230":0,"book-toc-842812":0,"book-toc-843287":0,"book-toc-843295":0,"book-toc-843300":0,"book-toc-843308":0,"book-toc-843321":0,"book-toc-843364":0,"book-toc-843372":0,"book-toc-843377":0,"book-toc-843386":0,"book-toc-843399":0,"book-toc-843439":0,"book-toc-843497":0,"book-toc-843653":0,"book-toc-843990":0,"book-toc-844189":0,"book-toc-844198":0,"book-toc-844621":0,"book-toc-844622":0,"book-toc-844623":0,"book-toc-844624":0,"book-toc-844625":0,"book-toc-844626":0,"book-toc-844627":0,"book-toc-844628":0,"book-toc-844629":0,"book-toc-844630":0,"book-toc-844631":0,"book-toc-844632":0,"book-toc-844633":0,"book-toc-844634":0,"book-toc-844635":0,"book-toc-844642":0,"book-toc-844643":0,"book-toc-844644":0,"book-toc-844645":0,"book-toc-844646":0,"book-toc-844647":0,"book-toc-844648":0,"book-toc-844649":0,"book-toc-844650":0,"book-toc-844651":0,"book-toc-844652":0,"book-toc-844653":0,"book-toc-844654":0,"book-toc-844655":0,"book-toc-844656":0,"book-toc-844675":0,"book-toc-844676":0,"book-toc-844687":0,"book-toc-844702":0,"book-toc-844712":0,"book-toc-844757":0,"book-toc-844904":0,"book-toc-845177":0,"book-toc-846736":0,"book-toc-848565":0,"book-toc-848765":0,"book-toc-848917":0,"book-toc-849086":0,"book-toc-849103":0,"book-toc-849110":0,"book-toc-849122":0,"book-toc-849135":0,"book-toc-849142":0,"book-toc-849159":0,"book-toc-849167":0,"book-toc-849177":0,"book-toc-849185":0,"book-toc-849227":0,"book-toc-849335":0,"book-toc-849344":0,"book-toc-849385":0,"book-toc-849616":0,"book-toc-849762":0,"book-toc-849763":0,"book-toc-849786":0}}},"gss":{"key":"017112334782586706075:axbmndd0alq"},"jcarousel":{"ajaxPath":"\/en-us\/jcarousel\/ajax\/views"},"quote_nest":"2","translations_available":{"en":"\/en-us\/articles\/api-without-secrets-introduction-to-vulkan-part-3","zh-chs":"\/zh-cn\/articles\/api-without-secrets-introduction-to-vulkan-part-3"},"node_language":"en","intel_i18n":{"language_node":"en"},"language":{"language":"en","name":"English","native":"English","direction":"0","enabled":"1","plurals":"0","formula":"","domain":"","prefix":"en-us","weight":"-10","javascript":"","provider":"locale-url"},"better_exposed_filters":{"views":{"article_related_links":{"displays":{"block":{"filters":[]}}}}},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|bz2|csv|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|pkg|png|ppt|pptx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls|xml|z|zip","trackDomainMode":1}});</script>
      <!--[if lt IE 9]>
    <script src="/sites/all/themes/zen/js/html5-respond.js"></script>
    <![endif]-->
      <meta name="microsoft" content="notranslateclasses header slider-processed comments-wrapper page-top-second-footer page-footer admin-menu-processed">
<style>:is([id*='google_ads_iframe'],[id*='taboola-'],.taboolaHeight,.taboola-placeholder,#top-ad,#credential_picker_container,#credentials-picker-container,#credential_picker_iframe,[id*='google-one-tap-iframe'],#google-one-tap-popup-container,.google-one-tap__module,.google-one-tap-modal-div,#amp_floatingAdDiv,#ez-content-blocker-container) {display:none!important;min-height:0!important;height:0!important;}</style></head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-623695 node-type-article theme-zero i18n-en section-articles has-inpage-navigation path-articles-api-without-secrets-introduction-to-vulkan-part-3" style=""><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display: block; direction: ltr; height: 67px;" toolbar-mode="auto">
</div><div id="wm-ipp-print">The Wayback Machine - 
https://web.archive.org/web/20200503051337/https://software.intel.com/
en-us/articles/api-without-secrets-introduction-to-vulkan-part-3</div>
<script type="text/javascript">//<![CDATA[
__wm.bt(750,27,25,2,"web","https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3","20200503051337",1996,"https://web-static.archive.org/_static/",["https://web-static.archive.org/_static/css/banner-styles.css?v=p7PEIJWi","https://web-static.archive.org/_static/css/iconochive.css?v=3PDvdIFv"], false);
  __wm.rw(1);
//]]></script>
<!-- END WAYBACK TOOLBAR INSERT -->
 
<!-- Google Tag Manager -->
<noscript><iframe src="//web.archive.org/web/20200503051337if_/https://www.googletagmanager.com/ns.html?id=GTM-PZRG3F" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0];var j=d.createElement(s);var dl=l!='dataLayer'?'&l='+l:'';j.src='//web.archive.org/web/20200503051337/https://www.googletagmanager.com/gtm.js?id='+i+dl;j.type='text/javascript';j.async=true;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PZRG3F');</script>
<!-- End Google Tag Manager -->
<script type="text/javascript">
/*<![CDATA[*/
  //configure tms
  var wapLocalCode = 'us-en'; //dynamically set per localized site, see mapping table for values
  var wapSection = "ssg-intel"; //section, specific for each site
  //load tms
  (function() {
    var host = (window.document.location.protocol == 'http:') ? "https://web.archive.org/web/20200503051337/https://www.intel.com" : "https://web.archive.org/web/20200503051337/https://www.intel.com";
    var url = host+"/content/dam/www/global/wap/wap-ssg-intel.js"; //wap file url
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;  po.src = url;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
/*]]>*/
</script>

  <p id="skip-link">
    <a href="#main-menu" class="element-invisible element-focusable">Jump to navigation</a>
  </p>

<div id="page-wrapper" class="intel_filter_syntaxhighlighter-processed">
  <header class="header notranslate " id="header" role="banner">
    <div class="intel-blue-bar clearfix">
              <span id="header-logo-container" data-wap_type="navheader">
          <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us" title="Home" rel="home" class="header__logo" id="logo" data-wap_type="navheader"><img src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/logo.png" alt="Home" class="header__logo-image">

            <div class="logo-left">
              <span class="logo-img"></span>
            </div>
            <span class="logo-text"> Developer Zone</span>
          </a>
        </span>
      
        <div id="block-idz-user-login-idz-user-login" class="block block-idz-user-login first odd">

      
  <ul class="language-switcher-locale-url js-processed">
<li class="en active"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="language-link active active icon-zz_000005_global" xml:lang="en" title="API without Secrets: Introduction to Vulkan* Part 3: First Triangle">English</a><ul id="languagechooser" data-wap_type="languagechooser"><li class="zh-hans first"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/zh-cn/articles/api-without-secrets-introduction-to-vulkan-part-3" class="language-link" xml:lang="zh-hans" title="没有任何秘密的 API： Vulkan* 简介第 3 部分： 第一个三角形">简体中文</a></li><li class="en active"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="language-link active active icon-zz_000005_global" xml:lang="en" title="API without Secrets: Introduction to Vulkan* Part 3: First Triangle">English</a><ul id="languagechooser" data-wap_type="languagechooser"></ul></li><li class="es"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/es-es/articles/api-without-secrets-introduction-to-vulkan-part-3" class="language-link" xml:lang="es">Español</a></li><li class="pt-br"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/pt-br/articles/api-without-secrets-introduction-to-vulkan-part-3" class="language-link" xml:lang="pt-br">Português</a></li><li class="ru last"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/ru-ru/articles/api-without-secrets-introduction-to-vulkan-part-3" class="language-link" xml:lang="ru">Русский</a></li></ul></li>



</ul><div id="header-user-display" class="user-display js-processed">
      <div class="login">
      <ul class="user-login-dropdown"><li class="first"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695" class="login-link icon-user">Sign in</a></li><ul class="user-login-dropdown-inside"><li><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695" class="login-link icon-user">Sign in</a></li><li><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/registration?lang=en-us" class="register-link">Signup</a></li></ul></ul>          </div>
  </div>
<div class="header-support" id="header-support" data-wap_type="navheader"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/support" class="icon-zz_000005_question">Support</a></div>
</div>
<div id="block-idz-search-idz-search-block" class="block block-idz-search last even">

      
  <form action="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/search/site/language/en" method="get" id="idz-search-block-form" accept-charset="UTF-8" target="_top">
  <div class="form-wrapper" id="idz_search_search_form">
        <ul id="search-dropdown-options" class="dropdown-menu">
      <li class="disabled"><a href="javascript:void(0)">Site to search:</a></li>
      <li class="divider"></li>
      <li><a class="active" href="javascript:void(0)" data-value="idz">Intel® DZ</a></li>
      <li><a href="javascript:void(0)" data-value="intel">Intel.com</a></li>
    </ul>
    <input title="Search our content library..." placeholder="Search our content library..." class="form-text" type="text" id="edit-search-keyword" name="query" size="15" maxlength="128">
    <button class="form-submit dropdown-toggle" type="submit" id="edit-submit" value="Search"></button>
  </div>
</form>
<form action="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/search/site/language/en" method="get" id="idz-search-block-form-mobile" accept-charset="UTF-8" target="_top">
  <div class="form-wrapper" id="idz_search_search_form_mobile">
    <span class="search-icon-mobile"></span>
    <input title="Search our content library..." type="search" id="edit-submit" placeholder="Search our content library..." name="query" size="15" maxlength="128">
  </div>
</form>
</div>

    </div>
  </header>
        <div id="menu-navigation" data-wap_type="navheader" class="slider-processed">

        <nav class="navigation notranslate">
          <div class="page-title-sec">
                          <span class="page__title zonetitle">Game Dev</span>
                                                      <h4 class="page__title title">Documentation</h4>
                                    </div>
          <a class="menu-icon" href="#"><i><span></span></i></a>
          <div class="menu-container">
            <div class="menu-container-wrapper">
              <div class="menu-containerInner">
                <ul class="menu js-processed"><hr><li class="menu__item is-leaf first leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev" class="menu__link menu-node-unpublished">Home</a><hr></li>
<li class="menu__item is-expanded expanded"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us" class="menu__link">Samples &amp; Guides</a><ul class="menu js-processed"><hr><li class="menu__item is-leaf first leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/library?value=20780" class="menu__link">Code Samples</a><hr></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/documentation" class="menu__link menu-node-unpublished">Documentation</a><hr></li>
<li class="menu__item is-leaf last leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/recent-updates" class="menu__link menu-node-unpublished menu-node-unpublished">Recent Updates</a><hr></li>
</ul><hr></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/library" class="menu__link">Library</a><hr></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/tools" class="menu__link menu-node-unpublished menu-node-unpublished menu-node-unpublished">Tools </a><hr></li>
<li class="menu__item is-expanded expanded"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us" class="menu__link">Training</a><ul class="menu js-processed"><hr><li class="menu__item is-leaf first leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gpa/training" class="menu__link">Intel® GPA</a><hr></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gdc2019" class="menu__link">GDC Tech Sessions</a><hr></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://www.twitch.tv/IntelGameDev" target="_blank" class="menu__link">Twitch.tv</a><hr></li>
<li class="menu__item is-leaf last leaf"><a href="https://web.archive.org/web/20200503051337/https://www.youtube.com/playlist?list=PLg-UKERBljNwax4IX90MW4UvwP8rNd1Dk" target="_blank" class="menu__link">YouTube* Channel</a><hr></li>
</ul><hr></li>
<li class="menu__item is-expanded expanded"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us" class="menu__link">Certify &amp; Market Your Game</a><ul class="menu js-processed"><hr><li class="menu__item is-leaf first leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/get-started" class="menu__link menu-node-unpublished menu-node-unpublished">Get Started</a><hr></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/get-certified" class="menu__link">Get Certified</a><hr></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/boost" class="menu__link">Get a Boost</a><hr></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/join" class="menu__link">Join Our Program</a><hr></li>
<li class="menu__item is-leaf last leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/boost/success-stories" class="menu__link">Success Stories</a><hr></li>
</ul><hr></li>
<li class="menu__item is-expanded last expanded"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us" class="menu__link menu-node-unpublished menu-node-unpublished">Partners</a><ul class="menu js-processed"><hr><li class="menu__item is-leaf first leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/partners/microsoft" class="menu__link">Microsoft</a><hr></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/partners/unity" class="menu__link menu-node-unpublished">Unity*</a><hr></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/partners/unreal" class="menu__link menu-node-unpublished">Unreal* </a><hr></li>
<li class="menu__item is-leaf last leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/partners" class="menu__link">View All</a><hr></li>
</ul><hr></li>
</ul><h2 class="block__title CORE-2649"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us">All Developer Programs</a></h2>
              </div>
              <div class="mobile-top-menu clearfix">
                    <div id="block-idz-user-login-idz-user-login" class="block block-idz-user-login first odd">

      
  <ul class="language-switcher-locale-url js-processed">
<li class="en active"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="language-link active active icon-zz_000005_global" xml:lang="en" title="API without Secrets: Introduction to Vulkan* Part 3: First Triangle">English</a><ul><li class="zh-hans first"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/zh-cn/articles/api-without-secrets-introduction-to-vulkan-part-3" class="language-link" xml:lang="zh-hans" title="没有任何秘密的 API： Vulkan* 简介第 3 部分： 第一个三角形">简体中文</a></li><li class="en active"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="language-link active active icon-zz_000005_global" xml:lang="en" title="API without Secrets: Introduction to Vulkan* Part 3: First Triangle">English</a><ul></ul></li><li class="es"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/es-es/articles/api-without-secrets-introduction-to-vulkan-part-3" class="language-link" xml:lang="es">Español</a></li><li class="pt-br"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/pt-br/articles/api-without-secrets-introduction-to-vulkan-part-3" class="language-link" xml:lang="pt-br">Português</a></li><li class="ru last"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/ru-ru/articles/api-without-secrets-introduction-to-vulkan-part-3" class="language-link" xml:lang="ru">Русский</a></li></ul></li>



</ul><div id="header-user-display" class="user-display js-processed">
      <div class="login">
      <ul class="user-login-dropdown"><li class="first"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695" class="login-link icon-user">Sign in</a></li><ul class="user-login-dropdown-inside"><li><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695" class="login-link icon-user">Sign in</a></li><li><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/registration?lang=en-us" class="register-link">Signup</a></li></ul></ul>          </div>
  </div>
<div class="header-support" id="header-support" data-wap_type="navheader"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/support" class="icon-zz_000005_question">Support</a></div>
</div>
<div id="block-idz-search-idz-search-block" class="block block-idz-search last even">

      
  <form action="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/search/site/language/en" method="get" id="idz-search-block-form" accept-charset="UTF-8" target="_top">
  <div class="form-wrapper" id="idz_search_search_form">
        <ul id="search-dropdown-options" class="dropdown-menu">
      <li class="disabled"><a href="javascript:void(0)">Site to search:</a></li>
      <li class="divider"></li>
      <li><a class="active" href="javascript:void(0)" data-value="idz">Intel® DZ</a></li>
      <li><a href="javascript:void(0)" data-value="intel">Intel.com</a></li>
    </ul>
    <input title="Search our content library..." placeholder="Search our content library..." class="form-text" type="text" id="edit-search-keyword" name="query" size="15" maxlength="128">
    <button class="form-submit dropdown-toggle" type="submit" id="edit-submit" value="Search"></button>
  </div>
</form>
<form action="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/search/site/language/en" method="get" id="idz-search-block-form-mobile" accept-charset="UTF-8" target="_top">
  <div class="form-wrapper" id="idz_search_search_form_mobile">
    <span class="search-icon-mobile"></span>
    <input title="Search our content library..." type="search" id="edit-submit" placeholder="Search our content library..." name="query" size="15" maxlength="128">
  </div>
</form>
</div>
              </div>
            </div>
          </div>
        </nav>
        <div id="navigation-right">
            <div id="block-idz-zero-idz-zero-share-widget-block" class="block block-idz-zero first last odd">

      
  <div class="show_all_widget notranslate">
  <div class="item-list"><ul id="wap-social" data-wap_type="socialshare"><li class="facebook first"><a href="https://web.archive.org/web/20200503051337/https://www.facebook.com/sharer/sharer.php?u=https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="icon-logo-facebook" target="_blank" data-wap_ref="facebook">Share</a></li>
<li class="twitter"><a href="https://web.archive.org/web/20200503051337/https://twitter.com/intent/tweet?text=API+without+Secrets%3A+Introduction+to+Vulkan%2A+Part+3%3A+First+Triangle%3A&amp;url=https%3A%2F%2Fsoftware.intel.com%2Fen-us%2Farticles%2Fapi-without-secrets-introduction-to-vulkan-part-3&amp;hashtags=IntelSoftware" class="icon-logo-twitter-bird" target="_blank" data-wap_ref="twitter" data-hashtags="IntelSoftware" data-text="API without Secrets: Introduction to Vulkan* Part 3: First Triangle:" data-url="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3">Tweet</a></li>
<li class="google"><a href="https://web.archive.org/web/20200503051337/https://plus.google.com/share?url=https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="icon-logo-gplus" target="_blank" data-wap_ref="twitter">Share</a></li>
<li class="send last"><a href="https://web.archive.org/web/20200503051337/mailto:/?subject=API%20without%20Secrets:%20Introduction%20to%20Vulkan*%20Part%203:%20First%20Triangle&amp;body=https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="icon-email" target="_self" data-wap_ref="send">Send</a></li>
</ul></div></div>
<div class="showsharewidget notranslate">
  <span class="share_label icon-zz_000005_share">
    Share  </span>
</div>


</div>
        </div>
      </div>
        <div id="main">

      <div id="content" class="column" role="main">
                <a id="main-content"></a>

                                        


<article class="node-623695 node node-article view-mode-full clearfix" about="/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" typeof="sioc:Item foaf:Document">

      <header>
            <h1 class="node__title node-title" id="page-title">API without Secrets: Introduction to Vulkan* Part 3: First Triangle</h1>
                  <span property="dc:title" content="API without Secrets: Introduction to Vulkan* Part 3: First Triangle" class="rdf-meta element-hidden"></span><span property="sioc:num_replies" content="17" datatype="xsd:integer" class="rdf-meta element-hidden"></span>        <div class="submitted-and-translation clearfix">
                          <p class="submitted ctHidden" data-hj-masked="">
                                <span property="dc:date dc:created" content="2016-04-06T10:52:52-07:00" datatype="xsd:dateTime" rel="sioc:has_creator">By <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1183993" title="View user profile" class="username" data-hj-masked="">Pawel L.</a>, published on April 6, 2016</span>              </p>
            
                      </div>

          </header>
  
  <div id="inpage-navigation" style="margin-top: 303px; height: 660px;"><h4 id="inpage-nav-contents">CONTENTS</h4><ul class="inpage-nav"><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-1"><span class="word_arrow">Tutorial</span> 3: First Triangle – Graphics Pipeline and Drawing</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-2"><span class="word_arrow">About</span> the Source Code Example</a></li><li class="parent haschildren"><a class="jumplink" href="#inpage-nav-3"><span class="word_arrow">Creating</span> a Render Pass</a><ul class="inpage-nav list-h3" style=""><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-3-1"><span class="word_arrow">Render</span> Pass Attachment Description</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-3-2"><span class="word_arrow">Subpass</span> Description</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-3-3"><span class="word_arrow">Render</span> Pass Creation</a></li></ul></li><li class="parent haschildren"><a class="jumplink" href="#inpage-nav-4"><span class="word_arrow">Creating</span> a Framebuffer</a><ul class="inpage-nav list-h3" style=""><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-4-1"><span class="word_arrow">Creating</span> Image Views</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-4-2"><span class="word_arrow">Specifying</span> Framebuffer Parameters</a></li></ul></li><li class="parent haschildren"><a class="jumplink" href="#inpage-nav-5"><span class="word_arrow">Creating</span> a Graphics Pipeline</a><ul class="inpage-nav list-h3" style=""><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-5-1"><span class="word_arrow">Creating</span> a Shader Module</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-5-2"><span class="word_arrow">Preparing</span> a Description of the Shader Stages</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-5-3"><span class="word_arrow">Preparing</span> Description of a Vertex Input</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-5-4"><span class="word_arrow">Preparing</span> the Description of an Input Assembly</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-5-5"><span class="word_arrow">Preparing</span> the Viewport’s Description</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-5-6"><span class="word_arrow">Preparing</span> the Rasterization State’s Description</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-5-7"><span class="word_arrow">Setting</span> the Multisampling State’s Description</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-5-8"><span class="word_arrow">Setting</span> the Blending State’s Description</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-5-9"><span class="word_arrow">Creating</span> a Pipeline Layout</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-5-10"><span class="word_arrow">Creating</span> a Graphics Pipeline</a></li></ul></li><li class="parent haschildren"><a class="jumplink" href="#inpage-nav-6"><span class="word_arrow">Preparing</span> Drawing Commands</a><ul class="inpage-nav list-h3" style=""><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-6-1"><span class="word_arrow">Creating</span> a Command Pool</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-6-2"><span class="word_arrow">Allocating</span> Command Buffers</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-6-3"><span class="word_arrow">Recording</span> Command Buffers</a></li></ul></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-7"><span class="word_arrow">Drawing</span></a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-8"><span class="word_arrow">Tutorial</span> 3 Execution</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-9"><span class="word_arrow">Cleaning</span> Up</a></li><li class="parent nochildren"><a class="jumplink" href="#inpage-nav-10"><span class="word_arrow">Conclusion</span></a></li></ul></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p><a class="button-highlight" href="https://web.archive.org/web/20200503051337/https://github.com/GameTechDev/IntroductionToVulkan" target="_blank" rel="nofollow">Download</a></p><p><a class="button-white-border" href="https://web.archive.org/web/20200503051337/https://software.intel.com/sites/default/files/managed/b7/8c/api-without-secrets-introduction-to-vulkan-part-3.pdf">View PDF</a> [885 KB]</p><p><strong>Back to: <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-2">Part 2 Swap Chain</a><br>
	Next up: <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-4">Part 4 Vertex Attributes</a></strong></p><hr><h2>Tutorial 3: First Triangle – Graphics Pipeline and Drawing<a class="inpage-nav-anchor" id="inpage-nav-1"></a></h2><p>In
 this tutorial we will finally draw something on the screen. One single 
triangle should be just fine for our first Vulkan-generated “image.”</p><p>The
 graphics pipeline and drawing in general require lots of preparations 
in Vulkan (in the form of filling many structures with even more 
different fields). There are potentially many places where we can make 
mistakes, and in Vulkan, even simple mistakes may lead to the 
application not working as expected, displaying just a blank screen, and
 leaving us wondering what went wrong. In such situations validation 
layers can help us a lot. But I didn’t want to dive into too many 
different aspects and the specifics of the Vulkan API. So I prepared the
 code to be as small and as simple as possible.</p><p>This led me to 
create an application that is working properly and displays a simple 
triangle the way I expected, but it also uses mechanics that are not 
recommended, not flexible, and also probably not too efficient (though 
correct). I don’t want to teach solutions that aren’t recommended, but 
here it simplifies the tutorial quite considerably and allows us to 
focus only on the minimal required set of API usage. I will point out 
the “disputable” functionality as soon as we get to it. And in the next 
tutorial, I will show the recommended way of drawing triangles.</p><p>To
 draw our first simple triangle, we need to create a render pass, a 
framebuffer, and a graphics pipeline. Command buffers are of course also
 needed, but we already know something about them. We will create simple
 GLSL shaders and compile them into Khronos’s SPIR*-V language—the only 
(at this time) form of shaders that Vulkan (officially) understands.</p><p>If
 nothing displays on your computer’s screen, try to simplify the code as
 much as possible or even go back to the second tutorial. Check whether 
command buffer that just clears image behaves as expected, and that the 
color the image was cleared to is properly displayed on the screen. If 
yes, modify the code and add the parts from this tutorial. Check every 
return value if it is not VK_SUCCESS. If these ideas don’t help, wait 
for the tutorial about validation layers.</p><h2>About the Source Code Example<a class="inpage-nav-anchor" id="inpage-nav-2"></a></h2><p>For
 this and succeeding tutorials, I’ve changed the sample project. Vulkan 
preparation phases that were described in the previous tutorials were 
placed in a “VulkanCommon” class found in separate files (header and 
source). The class for a given tutorial that is responsible for 
presenting topics described in a given tutorial, inherits from the 
“VulkanCommon” class and has access to some (required) Vulkan variables 
like device or swap chain. This way I can reuse Vulkan creation code and
 prepare smaller classes focusing only on the presented topics. The code
 from the earlier chapters works properly so it should also be easier to
 find potential mistakes.</p><p>I’ve also added a separate set of files 
for some utility functions. Here we will be reading SPIR-V shaders from 
binary files, so I’ve added a function for checking loading contents of a
 binary file. It can be found in Tools.cpp and Tools.h files.</p><h2>Creating a Render Pass<a class="inpage-nav-anchor" id="inpage-nav-3"></a></h2><p>To
 draw anything on the screen, we need a graphics pipeline. But creating 
it now will require pointers to other structures, which will probably 
also need pointers to yet other structures. So we’ll start with a render
 pass.</p><p>What is a render pass? A general picture can give us a 
“logical” render pass that may be found in many known rendering 
techniques like deferred shading. This technique consists of many 
subpasses. The first subpass draws the geometry with shaders that fill 
the G-Buffer: store diffuse color in one texture, normal vectors in 
another, shininess in another, depth (position) in yet another. Next for
 each light source, drawing is performed that reads some of the data 
(normal vectors, shininess, depth/position), calculates lighting and 
stores it in another texture. Final pass aggregates lighting data with 
diffuse color. This is a (very rough) explanation of deferred shading 
but describes the render pass—a set of data required to perform some 
drawing operations: storing data in textures and reading data from other
 textures.</p><p>In Vulkan, a render pass represents (or describes) a 
set of framebuffer attachments (images) required for drawing operations 
and a collection of subpasses that drawing operations will be ordered 
into. It is a construct that collects all color, depth and stencil 
attachments and operations modifying them in such a way that driver does
 not have to deduce this information by itself what may give substantial
 optimization opportunities on some GPUs. A subpass consists of drawing 
operations that use (more or less) the same attachments. Each of these 
drawing operations may read from some input attachments and render data 
into some other (color, depth, stencil) attachments. A render pass also 
describes the dependencies between these attachments: in one subpass we 
perform rendering into the texture, but in another this texture will be 
used as a source of data (that is, it will be sampled from). All this 
data help the graphics hardware optimize drawing operations.</p><p>To create a render pass in Vulkan, we call the <strong>vkCreateRenderPass()</strong>
 function, which requires a pointer to a structure describing all the 
attachments involved in rendering and all the subpasses forming the 
render pass. As usual, the more attachments and subpasses we use, the 
more array elements containing properly filed structures we need. In our
 simple example, we will be drawing only into a single texture (color 
attachment) with just a single subpass.</p><h3>Render Pass Attachment Description<a class="inpage-nav-anchor" id="inpage-nav-3-1"></a></h3><div id="highlighter_104900" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">VkAttachmentDescription attachment_descriptions[] </code><code class="keyword">=</code> <code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="value">0</code><code class="plain">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="keyword">/</code><code class="keyword">/</code> <code class="plain">VkAttachmentDescriptionFlags&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GetSwapChain().</code><code class="functions">Format</code><code class="plain">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">/</code><code class="keyword">/</code> <code class="plain">VkFormat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="functions">format</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_SAMPLE_COUNT_1_BIT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">/</code><code class="keyword">/</code> <code class="plain">VkSampleCountFlagBits&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; samples</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_ATTACHMENT_LOAD_OP_CLEAR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">/</code><code class="keyword">/</code> <code class="plain">VkAttachmentLoadOp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; loadOp</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_ATTACHMENT_STORE_OP_STORE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">/</code><code class="keyword">/</code> <code class="plain">VkAttachmentStoreOp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storeOp</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_ATTACHMENT_LOAD_OP_DONT_CARE,&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">/</code><code class="keyword">/</code> <code class="plain">VkAttachmentLoadOp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stencilLoadOp</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_ATTACHMENT_STORE_OP_DONT_CARE,&nbsp;&nbsp;&nbsp; </code><code class="keyword">/</code><code class="keyword">/</code> <code class="plain">VkAttachmentStoreOp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stencilStoreOp</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR,&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">/</code><code class="keyword">/</code> <code class="plain">VkImageLayout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 initialLayout;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="keyword">/</code><code class="keyword">/</code> <code class="plain">VkImageLayout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finalLayout</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div></div></div><p><strong>1.</strong><em>Tutorial03.cpp, function CreateRenderPass()</em></p><p>To
 create a render pass, first we prepare an array with elements 
describing each attachment, regardless of the type of attachment and how
 it will be used inside a render pass. Each array element is of type 
VkAttachmentDescription, which contains the following fields:</p><ul><li>flags
 – Describes additional properties of an attachment. Currently, only an 
aliasing flag is available, which informs the driver that the attachment
 shares the same physical memory with another attachment; it is not the 
case here so we set this parameter to zero.</li><li>format – Format of 
an image used for the attachment; here we are rendering directly into a 
swap chain so we need to take its format.</li><li>samples – Number of samples of the image; we are not using any multisampling here so we just use one sample.</li><li>loadOp
 – Specifies what to do with the image’s contents at the beginning of a 
render pass, whether we want them to be cleared, preserved, or we don’t 
care about them (as we will overwrite them all). Here we want to clear 
the image to the specified value. This parameter also refers to depth 
part of depth/stencil images.</li><li>storeOp – Informs the driver what 
to do with the image’s contents after the render pass (after a subpass 
in which the image was used for the last time). Here we want the 
contents of the image to be preserved after the render pass as we intend
 to display them on screen. This parameter also refers to the depth part
 of depth/stencil images.</li><li>stencilLoadOp – The same as loadOp but for the stencil part of depth/stencil images; for color attachments it is ignored.</li><li>stencilStoreOp
 – The same as storeOp but for the stencil part of depth/stencil images;
 for color attachments this parameter is ignored.</li><li>initialLayout –
 The layout the given attachment will have when the render pass starts 
(what the layout image is provided with by the application).</li><li>finalLayout – The layout the driver will automatically transition the given image into at the end of a render pass.</li></ul><p>Some additional information is required for load and store operations and initial and final layouts.</p><p>Load
 op refers to the attachment’s contents at the beginning of a render 
pass. This operation describes what the graphics hardware should do with
 the attachment: clear it, operate on its existing contents (leave its 
contents untouched), or it shouldn’t matter about the contents because 
the application intends to overwrite them. This gives the hardware an 
opportunity to optimize memory operations. For example, if we intend to 
overwrite all of the contents, the hardware won’t bother with them and, 
if it is faster, may allocate totally new memory for the attachment.</p><p>Store
 op, as the name suggests, is used at the end of a render pass and 
informs the hardware whether we want to use the contents of the 
attachment after the render pass or if we don’t care about it and the 
contents may be discarded. In some scenarios (when contents are 
discarded) this creates the ability for the hardware to create an image 
in temporary, fast memory as the image will “live” only during the 
render pass and the implementations may save some memory bandwidth 
avoiding writing back data that is not needed anymore.</p><p>When an 
attachment has a depth format (and potentially also a stencil component)
 load and store ops refer only to the depth component. If a stencil is 
present, stencil values are treated the way stencil load and store ops 
describe. For color attachments, stencil ops are not relevant.</p><p>Layout,
 as I described in the swap chain tutorial, is an internal memory 
arrangement of an image. Image data may be organized in such a way that 
neighboring “image pixels” are also neighbors in memory, which can 
increase cache hits (faster memory reading) when image is used as a 
source of data (that is, during texture sampling). But caching is not 
necessary when the image is used as a target for drawing operations, and
 the memory for that image may be organized in a totally different way. 
Image may have linear layout (which gives the CPU ability to read or 
populate image’s memory contents) or optimal layout (which is optimized 
for performance but is also hardware/vendor dependent). So some hardware
 may have special memory organization for some types of operations; 
other hardware may be operations-agnostic. Some of the memory layouts 
may be better suited for some intended image “usages.” Or from the other
 side, some usages may require specific memory layouts. There is also a 
general layout that is compatible with all types of operations. But from
 the performance point of view, it is always best to set the layout 
appropriate for an intended image usage and it is application’s 
responsibility to inform the driver about transitions.</p><p>Image 
layouts may be changed using image memory barriers. We did this in the 
swap chain tutorial when we first changed the layout from the 
presentation source (image was used by the presentation engine) to 
transfer destination (we wanted to clear the image with a given color). 
But layouts, apart from image memory barriers, may also be changed 
automatically by the hardware inside a render pass. If we specify a 
different initial layout, subpass layouts (described later), and final 
layout, the hardware does the transition automatically at the 
appropriate time.</p><p>Initial layout informs the hardware about the 
layout the application “provides” (or “leaves”) the given attachment 
with. This is the layout the image starts with at the beginning of a 
render pass (in our example we acquire the image from the presentation 
engine so the image has a “presentation source” layout set). Each 
subpass of a render pass may use a different layout, and the transition 
will be done automatically by the hardware between subpasses. The final 
layout is the layout the given attachment will be transitioned into 
(automatically) at the end of a render pass (after a render pass is 
finished).</p><p>This information must be prepared for each attachment 
that will be used in a render pass. When graphics hardware receives this
 information a priori, it may optimize operations and memory during the 
render pass to achieve the best possible performance.</p><h3>Subpass Description<a class="inpage-nav-anchor" id="inpage-nav-3-2"></a></h3><div id="highlighter_883350" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">VkAttachmentReference color_attachment_references[] = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 attachment</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL&nbsp;&nbsp;&nbsp; //
 
VkImageLayout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 layout</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">VkSubpassDescription subpass_descriptions[] = {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
 VkSubpassDescriptionFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_PIPELINE_BIND_POINT_GRAPHICS,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
 
VkPipelineBindPoint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 pipelineBindPoint</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 inputAttachmentCount</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
 const VkAttachmentReference&nbsp;&nbsp; *pInputAttachments</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 colorAttachmentCount</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">color_attachment_references,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
 const VkAttachmentReference&nbsp;&nbsp; *pColorAttachments</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
 const VkAttachmentReference&nbsp;&nbsp; *pResolveAttachments</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
 const VkAttachmentReference&nbsp;&nbsp; *pDepthStencilAttachment</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 preserveAttachmentCount</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
 const 
uint32_t*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 pPreserveAttachments</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div></div></div><p><strong>2.</strong><em>Tutorial03.cpp, function CreateRenderPass()</em></p><p>Next
 we specify the description of each subpass our render pass will 
include. This is done using VkSubpassDescription structure, which 
contains the following fields:</p><ul><li>flags – Parameter reserved for future use.</li><li>pipelineBindPoint
 – Type of pipeline in which this subpass will be used (graphics or 
compute). Our example, of course, uses a graphics pipeline.</li><li>inputAttachmentCount – Number of elements in the pInputAttachments array.</li><li>pInputAttachments
 – Array with elements describing which attachments are used as an input
 and can be read from inside shaders. We are not using any input 
attachments here so we set this value to 0.</li><li>colorAttachmentCount – Number of elements in pColorAttachments and pResolveAttachments arrays.</li><li>pColorAttachments
 – Array describing (pointing to) attachments which will be used as 
color render targets (that image will be rendered into).</li><li>pResolveAttachments
 – Array closely connected with color attachments. Each element from 
this array corresponds to an element from a color attachments array; any
 such color attachment will be resolved to a given resolve attachment 
(if a resolve attachment at the same index is not null or if the whole 
pointer is not null). This is optional and can be set to null.</li><li>pDepthStencilAttachment
 – Description of an attachment that will be used for depth (and/or 
stencil) data. We don’t use depth information here so we can set it to 
null.</li><li>preserveAttachmentCount – Number of elements in pPreserveAttachments array.</li><li>pPreserveAttachments
 – Array describing attachments that should be preserved. When we have 
multiple subpasses not all of them will use all attachments. If a 
subpass doesn’t use some of the attachments but we need their contents 
in the later subpasses, we must specify these attachments here.</li></ul><p>The
 pInputAttachments, pColorAttachments, pResolveAttachments, 
pPreserveAttachments, and pDepthStencilAttachment parameters are all of 
type VkAttachmentReference. This structure contains only these two 
fields:</p><ul><li>attachment – Index into an attachment_descriptions array of VkRenderPassCreateInfo.</li><li>layout
 – Requested (required) layout the attachment will use during a given 
subpass. The hardware will perform an automatic transition into a 
provided layout just before a given subpass.</li></ul><p>This structure 
contains references (indices) into the attachment_descriptions array of 
VkRenderPassCreateInfo. When we create a render pass we must provide a 
description of all attachments used during a render pass. We’ve prepared
 this description earlier in “Render pass attachment description” when 
we created the attachment_descriptions array. Right now it contains only
 one element, but in more advanced scenarios there will be multiple 
attachments. So this “general” collection of all render pass attachments
 is used as a reference point. In the subpass description, when we fill 
pColorAttachments or pDepthStencilAttachment members, we provide indices
 into this very “general” collection, like this: take the first 
attachment from all render pass attachments and use it as a color 
attachment. The second attachment from that array will be used for depth
 data.</p><p>There is a separation between a whole render pass and its 
subpasses because each subpass may use multiple attachments in a 
different way, that is, in one subpass we are rendering into one color 
attachment but in the next subpass we are reading from this attachment. 
In this way, we can prepare a list of all attachments used in the whole 
render pass, and at the same time we can specify how each attachment 
will be used in each subpass. And as each subpass may use a given 
attachment in its own way, we must also specify each image’s layout for 
each subpass.</p><p>So before we can specify a description of all 
subpasses (an array with elements of type VkSubpassDescription) we must 
create references for each attachment used in each subpass. And this is 
what the color_attachment_references variable was created for. When I 
write a tutorial for rendering into a texture, this usage will be more 
apparent.</p><h3>Render Pass Creation<a class="inpage-nav-anchor" id="inpage-nav-3-3"></a></h3><p>We now have all the data we need to create a render pass.</p><div id="highlighter_254137" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">vkRenderPassCreateInfo render_pass_create_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO,&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkRenderPassCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 attachmentCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">attachment_descriptions,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkAttachmentDescription *pAttachments</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 subpassCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">subpass_descriptions,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkSubpassDescription&nbsp;&nbsp;&nbsp; *pSubpasses</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 dependencyCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkSubpassDependency&nbsp;&nbsp;&nbsp;&nbsp; *pDependencies</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="keyword">if</code><code class="plain">( vkCreateRenderPass( GetDevice(), &amp;render_pass_create_info, nullptr, &amp;Vulkan.RenderPass ) != VK_SUCCESS ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">printf( </code><code class="string">"Could not create render pass!\n"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="keyword">return</code> <code class="keyword">true</code><code class="plain">;</code></td></tr></tbody></table></div></div></div><p><strong>3.</strong><em>Tutorial03.cpp, function CreateRenderPass()</em></p><p>We start by filling the VkRenderPassCreateInfo structure, which contains the following fields:</p><ul><li>sType – Type of structure (VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO here).</li><li>pNext – Parameter not currently used.</li><li>flags – Parameter reserved for future use.</li><li>attachmentCount
 – Number of all different attachments (elements in pAttachments array) 
used during whole render pass (here just one).</li><li>pAttachments – Array specifying all attachments used in a render pass.</li><li>subpassCount
 – Number of subpasses a render pass consists of (and number of elements
 in pSubpasses array – just one in our simple example).</li><li>pSubpasses – Array with descriptions of all subpasses.</li><li>dependencyCount – Number of elements in pDependencies array (zero here).</li><li>pDependencies
 – Array describing dependencies between pairs of subpasses. We don’t 
have many subpasses so we don’t have dependencies here (set it to null 
here).</li></ul><p>Dependencies describe what parts of the graphics 
pipeline use memory resource in what way. Each subpass may use resources
 in a different way. Layouts of each resource may not solely define how 
they use resources. Some subpasses may render into images or store data 
through shader images. Other may not use images at all or may read from 
them at different pipeline stages (that is, vertex or fragment).</p><p>This
 information helps the driver optimize automatic layout transitions and,
 more generally, optimize barriers between subpasses. When we are 
writing into images only in a vertex shader there is no point waiting 
until the fragment shader executes (of course in terms of used images). 
After all the vertex operations are done, images may immediately change 
their layouts and memory access type, and even some parts of graphics 
hardware may start executing the next operations (that are referencing 
or reading the given images) without the need to wait for the rest of 
the commands from the given subpass to finish. For now, just remember 
that dependencies are important from a performance point of view.</p><p>So now that we have prepared all the information required to create a render pass, we can safely call the <strong>vkCreateRenderPass()</strong> function.</p><h2>Creating a Framebuffer<a class="inpage-nav-anchor" id="inpage-nav-4"></a></h2><p>We
 have created a render pass. It describes all attachments and all 
subpasses used during the render pass. But this description is quite 
abstract. We have specified formats of all attachments (just one image 
in this example) and described how attachments will be used by each 
subpass (also just one here). But we didn’t specify WHAT attachments we 
will be using or, in other words, what images will be used as these 
attachments. This is done through a framebuffer.</p><p>A framebuffer 
describes specific images that the render pass operates on. In OpenGL*, a
 framebuffer is a set of textures (attachments) we are rendering into. 
In Vulkan, this term is much broader. It describes all the textures 
(attachments) used during the render pass, not only the images we are 
rendering into (color and depth/stencil attachments) but also images 
used as a source of data (input attachments).</p><p>This separation of 
render pass and framebuffer gives us some additional flexibility. We can
 use the given render pass with different framebuffers and a given 
framebuffer with different render passes, if they are compatible, 
meaning that they operate in a similar fashion on images of similar 
types and usages.</p><p>Before we can create a framebuffer, we must 
create image views for each image used as a framebuffer and render pass 
attachment. In Vulkan, not only in the case of framebuffers, but in 
general, we don’t operate on images themselves. Images are not accessed 
directly. For this purpose, image views are used. Image views represent 
images, they “wrap” images and provide additional (meta)data for them.</p><h3>Creating Image Views<a class="inpage-nav-anchor" id="inpage-nav-4-1"></a></h3><p>In
 this simple application, we want to render directly into swap chain 
images. We have created a swap chain with multiple images, so we must 
create an image view for each of them.</p><div id="highlighter_936394" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">const std::vector&lt;VkImage&gt; &amp;swap_chain_images = GetSwapChain().Images;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">Vulkan.FramebufferObjects.resize( swap_chain_images.size() );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="keyword">for</code><code class="plain">( size_t i = 0; i &lt; swap_chain_images.size(); ++i ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VkImageViewCreateInfo image_view_create_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO,&nbsp;&nbsp; </code><code class="comments">// VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkImageViewCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">swap_chain_images[i],&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkImage&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 image</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_IMAGE_VIEW_TYPE_2D,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkImageViewType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; viewType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GetSwapChain().Format,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkFormat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 format</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkComponentMapping&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; components</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_COMPONENT_SWIZZLE_IDENTITY,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkComponentSwizzle&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; r</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_COMPONENT_SWIZZLE_IDENTITY,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkComponentSwizzle&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_COMPONENT_SWIZZLE_IDENTITY,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkComponentSwizzle&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_COMPONENT_SWIZZLE_IDENTITY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkComponentSwizzle&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">},</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkImageSubresourceRange&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; subresourceRange</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_IMAGE_ASPECT_COLOR_BIT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkImageAspectFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aspectMask</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 baseMipLevel</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 levelCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 baseArrayLayer</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 layerCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(
 vkCreateImageView( GetDevice(), &amp;image_view_create_info, nullptr, 
&amp;Vulkan.FramebufferObjects[i].ImageView ) != VK_SUCCESS ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">printf( </code><code class="string">"Could not create image view for framebuffer!\n"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div></div></div><p><strong>4.</strong><em>Tutorial03.cpp, function CreateFramebuffers()</em></p><p>To create an image view, we must first create a variable of type VkImageViewCreateInfo. It contains the following fields:</p><ul><li>sType – Structure type, in this case it should be set to VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO.</li><li>pNext – Parameter typically set to null.</li><li>flags – Parameter reserved for future use.</li><li>image – Handle to an image for which view will be created.</li><li>viewType
 – Type of view we want to create. View type must be compatible with an 
image it is created for. &nbsp;(that is, we can create a 2D view for an 
image that has multiple array layers or we can create a CUBE view for a 
2D image with six layers).</li><li>format – Format of &nbsp;an image 
view; it must be compatible with the image’s format but may not be the 
same format (that is, it may be a different format but with the same 
number of bits per pixel).</li><li>components – Mapping of an image 
components into a vector returned in the shader by texturing operations.
 This applies only to read operations (sampling), but since we are using
 an image as a color attachment (we are rendering into an image) we must
 set the so-called identity mapping (R component into R, G -&gt; G, and 
so on) or just use “identity” value (VK_COMPONENT_SWIZZLE_IDENTITY).</li><li>subresourceRange
 – Describes the set of mipmap levels and array layers that will be 
accessible to a view. If our image is mipmapped, we may specify the 
specific mipmap level we want to render to (and in case of render 
targets we must specify exactly one mipmap level of one array layer).</li></ul><p>As
 you can see here, we acquire handles to all swap chain images, and we 
are referencing them inside a loop. This way we fill the structure 
required for image view creation, which we pass to a <strong>vkCreateImageView()</strong> function. We do this for each image that was created along with a swap chain.</p><h3>Specifying Framebuffer Parameters<a class="inpage-nav-anchor" id="inpage-nav-4-2"></a></h3><p>Now we can create a framebuffer. To do this we call the <strong>vkCreateFramebuffer()</strong> function.</p><div id="highlighter_612221" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">VkFramebufferCreateInfo framebuffer_create_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO,&nbsp; </code><code class="comments">// VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkFramebufferCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Vulkan.RenderPass,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkRenderPass&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 renderPass</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 attachmentCount</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&amp;Vulkan.FramebufferObjects[i].ImageView,&nbsp;&nbsp;&nbsp; </code><code class="comments">// const VkImageView&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pAttachments</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">300,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 width</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">300,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 height</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 layers</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">(
 vkCreateFramebuffer( GetDevice(), &amp;framebuffer_create_info, 
nullptr, &amp;Vulkan.FramebufferObjects[i].Handle ) != VK_SUCCESS ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">printf( </code><code class="string">"Could not create a framebuffer!\n"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="keyword">return</code> <code class="keyword">true</code><code class="plain">;</code></td></tr></tbody></table></div></div></div><p><strong>5.</strong><em>Tutorial03.cpp, function CreateFramebuffers()</em></p><p><strong>vkCreateFramebuffer() </strong>function
 requires us to provide a pointer to a variable of type 
VkFramebufferCreateInfo so we must first prepare it. It contains the 
following fields:</p><ul><li>sType – Structure type set to VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO in this situation.</li><li>pNext – Parameter most of the time set to null.</li><li>flags – Parameter reserved for future use.</li><li>renderPass – Render pass this framebuffer will be compatible with.</li><li>attachmentCount – Number of attachments in a framebuffer (elements in pAttachments array).</li><li>pAttachments
 – Array of image views representing all attachments used in a 
framebuffer and render pass. Each element in this array (each image 
view) corresponds to each attachment in a render pass.</li><li>width – Width of a framebuffer.</li><li>height – Height of a framebuffer.</li><li>layers
 – Number of layers in a framebuffer (OpenGL’s layered rendering with 
geometry shaders, which could specify the layer into which fragments 
rasterized from a given polygon will be rendered).</li></ul><p>The 
framebuffer specifies what images are used as attachments on which the 
render pass operates. We can say that it translates image (image view) 
into a given attachment. The number of images specified for a 
framebuffer must be the same as the number of attachments in a render 
pass for which we are creating a framebuffer. Also, each pAttachments 
array’s element corresponds directly to an attachment in a render pass 
description structure. Render pass and framebuffer are closely 
connected, and that’s why we also must specify a render pass during 
framebuffer creation. But we may use a framebuffer not only with the 
specified render pass but also with all render passes that are 
compatible with the one specified. Compatible render passes, in general,
 must have the same number of attachments and corresponding attachments 
must have the same format and number of samples. But image layouts 
(initial, final, and for each subpass) may differ and doesn’t involve 
render pass compatibility.</p><p>After we have finished creating and filling the VkFramebufferCreateInfo structure, we call the <strong>vkCreateFramebuffer() </strong>function.</p><p>The
 above code executes in a loop. A framebuffer references image views. 
Here the image view is created for each swap chain image. So for each 
swap chain image and its view, we are creating a framebuffer. We are 
doing this in order to simplify the code called in a rendering loop. In a
 normal, real-life scenario we wouldn’t (probably) create a framebuffer 
for each swap chain image. I assume that a better solution would be to 
render into a single image (texture) and after that use command buffers 
that would copy rendering results from that image into a given swap 
chain image. This way we will have only three simple command buffers 
that are connected with a swap chain. All other rendering commands would
 be independent of a swap chain, making it easier to maintain.</p><h2>Creating a Graphics Pipeline<a class="inpage-nav-anchor" id="inpage-nav-5"></a></h2><p>Now
 we are ready to create a graphics pipeline. A pipeline is a collection 
of stages that process data one stage after another. In Vulkan there is 
currently a compute pipeline and a graphics pipeline. The compute 
pipeline allows us to perform some computational work, such as 
performing physics calculations for objects in games. The graphics 
pipeline is used for drawing operations.</p><p>In OpenGL there are 
multiple programmable stages (vertex, tessellation, fragment shaders, 
and so on) and some fixed function stages (rasterizer, depth test, 
blending, and so on). In Vulkan, the situation is similar. There are 
similar (if not identical) stages. But the whole pipeline’s state is 
gathered in one monolithic object. OpenGL allows us to change the state 
that influences rendering operations anytime we want, we can change 
parameters for each stage (mostly) independently. We can set up shader 
programs, depths test, blending, and whatever state we want, and then we
 can render some objects. Next we can change just some small part of the
 state and render another object. In Vulkan, such operations can’t be 
done (we say that pipelines are “immutable”). We must prepare the whole 
state and set up parameters for pipeline stages and group them in a 
pipeline object. At the beginning this was one of the most startling 
pieces information for me. I’m not able to change shader program anytime
 I want? Why?</p><p>The easiest and more valid explanation is because of
 the performance implications of such state changes. Changing just one 
single state of the whole pipeline may cause graphics hardware to 
perform many background operations like state and error checking. 
Different hardware vendors may implement (and usually are implementing) 
such functionality differently. This may cause applications to perform 
differently (meaning unpredictably, performance-wise) when executed on 
different graphics hardware. So the ability to change anything at any 
time is convenient for developers. But, unfortunately, it is not so 
convenient for the hardware.</p><p>That’s why in Vulkan the state of the
 whole pipeline is to gather in one, single object. All the relevant 
state and error checking is performed when the pipeline object is 
created. When there are problems (like different parts of pipeline are 
set up in an incompatible way) pipeline object creation fails. But we 
know that upfront. The driver doesn’t have to worry for us and do 
whatever it can to properly use such a broken pipeline. It can 
immediately tell us about the problem. But during real usage, in 
performance-critical parts of the application, everything is already set
 up correctly and can be used as is.</p><p>The downside of this 
methodology is that we have to create multiple pipeline objects, 
multiple variations of pipeline objects when we are drawing many objects
 in a different way (some opaque, some semi-transparent, some with depth
 test enabled, others without). Unfortunately, even different shaders 
make us create different pipeline objects. If we want to draw objects 
using different shaders, we also have to create multiple pipeline 
objects, one for each combination of shader programs. Shaders are also 
connected with the whole pipeline state. They use different resources 
(like textures and buffers), render into different color attachments, 
and read from different attachments (possibly that were rendered into 
before). These connections must also be initialized, prepared, and set 
up correctly. We know what we want to do, the driver does not. So it is 
better and far more logical that we do it, not the driver. In general 
this approach makes sense.</p><p>To begin the pipeline creation process, let’s start with shaders.</p><h3>Creating a Shader Module<a class="inpage-nav-anchor" id="inpage-nav-5-1"></a></h3><p>Creating
 a graphics pipeline requires us to prepare lots of data in the form of 
structures or even arrays of structures. The first such data is a 
collection of all shader stages and shader programs that will be used 
during rendering with a given graphics pipeline bound.</p><p>In OpenGL, 
we write shaders in GLSL. They are compiled and then linked into shader 
programs directly in our application. We can use or stop using a shader 
program anytime we want in our application.</p><p>Vulkan on the other 
hand accepts only a binary representation of shaders, an intermediate 
language called SPIR-V. We can’t provide GLSL code like we did in 
OpenGL. But there is an official, separate compiler that can transform 
shaders written in GLSL into a binary SPIR-V language. To use it, we 
have to do it offline. After we prepare the SPIR-V assembly we can 
create a shader module from it. Such modules are then composed into an 
array of VkPipelineShaderStageCreateInfo structures, which are used, 
among other parameters, to create graphics pipeline.</p><p>Here’s the code that creates a shader module from a specified file that contains a binary SPIR-V.</p><div id="highlighter_482236" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">const std::vector&lt;char&gt; code = Tools::GetBinaryFileContents( filename );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="keyword">if</code><code class="plain">( code.size() == 0 ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">Tools::AutoDeleter&lt;VkShaderModule, PFN_vkDestroyShaderModule&gt;();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">VkShaderModuleCreateInfo shader_module_create_info = {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO,&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sType</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkShaderModuleCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">code.size(),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
size_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 codeSize</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">reinterpret_cast&lt;const uint32_t*&gt;(&amp;code[0])&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// const uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pCode</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="plain">VkShaderModule shader_module;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="keyword">if</code><code class="plain">( vkCreateShaderModule( GetDevice(), &amp;shader_module_create_info, nullptr, &amp;shader_module ) != VK_SUCCESS ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">printf( </code><code class="string">"Could not create shader module from a %s file!\n"</code><code class="plain">, filename );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">Tools::AutoDeleter&lt;VkShaderModule, PFN_vkDestroyShaderModule&gt;();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="keyword">return</code> <code class="plain">Tools::AutoDeleter&lt;VkShaderModule, PFN_vkDestroyShaderModule&gt;( shader_module, vkDestroyShaderModule, GetDevice() );</code></td></tr></tbody></table></div></div></div><p><strong>6.</strong><em>Tutorial03.cpp, function CreateShaderModule()</em></p><p>First we prepare a VkShaderModuleCreateInfo structure that contains the following fields:</p><ul><li>sType – Type of structure, in this example set to VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO.</li><li>pNext – Pointer not yet used.</li><li>flags – Parameter reserved for future use.</li><li>codeSize – Size in bytes of the code passed in pCode parameter.</li><li>pCode – Pointer to an array with source code (binary SPIR-V assembly).</li></ul><p>To acquire the contents of the file, I have prepared a simple utility function <strong>GetBinaryFileContents()</strong> that reads the entire contents of a specified file. It returns the content in a vector of chars.</p><p>After we prepare a structure, we can call the <strong>vkCreateShaderModule()</strong> function and check whether everything went fine.</p><p>The
 AutoDeleter&lt;&gt; class from Tools namespace is a helper class that 
wraps a given Vulkan object handle and takes a function that is called 
to delete that object. This class is similar to smart pointers, which 
delete the allocated memory when the object (the smart pointer) goes out
 of scope. AutoDeleter&lt;&gt; class takes the handle of a given object 
and deletes it with a provided function when the object of this class’s 
type goes out of scope.</p><div id="highlighter_487796" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">template&lt;class T, class F&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">class AutoDeleter {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">public:</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">AutoDeleter() :</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Object( VK_NULL_HANDLE ),</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Deleter( nullptr ),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Device( VK_NULL_HANDLE ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">AutoDeleter( T object, F deleter, VkDevice device ) :</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Object( object ),</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Deleter( deleter ),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Device( device ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">AutoDeleter( AutoDeleter&amp;&amp; other ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">*</code><code class="keyword">this</code> <code class="plain">= std::move( other );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">~AutoDeleter() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">( (Object != VK_NULL_HANDLE) &amp;&amp; (Deleter != nullptr) &amp;&amp; (Device != VK_NULL_HANDLE) ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Deleter( Device, Object, nullptr );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">AutoDeleter&amp; operator=( AutoDeleter&amp;&amp; other ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">( </code><code class="keyword">this</code> <code class="plain">!= &amp;other ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Object = other.Object;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Deleter = other.Deleter;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Device = other.Device;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">other.Object = VK_NULL_HANDLE;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">*</code><code class="keyword">this</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">T Get() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>37</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">Object;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>38</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>39</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>40</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">bool operator !() const {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>41</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">Object == VK_NULL_HANDLE;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>42</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>43</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>44</code></td><td class="content"><code class="plain">private:</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>45</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">AutoDeleter( const AutoDeleter&amp; );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>46</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">AutoDeleter&amp; operator=( const AutoDeleter&amp; );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>47</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">T&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Object;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>48</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">F&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Deleter;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>49</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VkDevice&nbsp; Device;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>50</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div></div></div><p><strong>7.</strong><em>Tools.h</em></p><p>Why
 so much effort for one simple object? Shader modules are one of the 
objects required to create the graphics pipeline. But after the pipeline
 is created, we don’t need these shader modules anymore. Sometimes it is
 convenient to keep them as we may need to create additional, similar 
pipelines. But in this example they may be safely destroyed after we 
create a graphics pipeline. Shader modules are destroyed by calling the <strong>vkDestroyShaderModule()</strong>
 function. But in the example, we would need to call this function in 
many places: inside multiple “ifs” and at the end of the whole function.
 Because I don’t want to remember where I need to call this function 
and, at the same time, I don’t want any memory leaks to occur, I have 
prepared this simple class just for convenience. Now, I don’t have to 
remember to delete the created shader module because it will be deleted 
automatically.</p><h3>Preparing a Description of the Shader Stages<a class="inpage-nav-anchor" id="inpage-nav-5-2"></a></h3><p>Now
 that we know how to create and destroy shader modules, we can create 
data for shader stages compositing our graphics pipeline. As I have 
written, the data that describes what shader stages should be active 
when a given graphics pipeline is bound has a form of an array with 
elements of type VkPipelineShaderStageCreateInfo. Here is the code that 
creates shader modules and prepares such an array:</p><div id="highlighter_199889" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">Tools::AutoDeleter&lt;VkShaderModule, PFN_vkDestroyShaderModule&gt; vertex_shader_module = CreateShaderModule( </code><code class="string">"Data03/vert.spv"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">Tools::AutoDeleter&lt;VkShaderModule, PFN_vkDestroyShaderModule&gt; fragment_shader_module = CreateShaderModule( </code><code class="string">"Data03/frag.spv"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="keyword">if</code><code class="plain">( !vertex_shader_module || !fragment_shader_module ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">std::vector&lt;VkPipelineShaderStageCreateInfo&gt; shader_stage_create_infos = {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">// Vertex shader</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 sType</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkPipelineShaderStageCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_SHADER_STAGE_VERTEX_BIT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkShaderStageFlagBits&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 stage</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">vertex_shader_module.Get(),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkShaderModule&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 module</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"main"</code><code class="plain">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
char&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pName</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
VkSpecializationInfo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pSpecializationInfo</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">},</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">// Fragment shader</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 sType</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkPipelineShaderStageCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_SHADER_STAGE_FRAGMENT_BIT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkShaderStageFlagBits&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 stage</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">fragment_shader_module.Get(),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkShaderModule&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 module</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="string">"main"</code><code class="plain">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
char&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pName</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
VkSpecializationInfo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pSpecializationInfo</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div></div></div><p><strong>8.</strong><em>Tutorial03.cpp, function CreatePipeline()</em></p><p>At
 the beginning we are creating two shader modules for vertex and 
fragment stages. They are created with the function presented earlier. 
When any error occurs and we return from the <strong>CreatePipeline()</strong> function, any created module is deleted automatically by a wrapper class with a provided deleter function.</p><p>The
 code for the shader modules is read from files that contain the binary 
SPIR-V assembly. These files are generated with an application called 
“glslangValidator”. This is a tool distributed officially with the 
Vulkan SDK and is designed to validate GLSL shaders. But 
“glslangValidator” also has the capability to compile or rather 
transform GLSL shaders into SPIR-V binary files. A full explanation of 
the command line for its usage can be found at the official SDK site. 
I’ve used the following commands to generate SPIR-V shaders for this 
tutorial:</p><p><code>glslangValidator.exe -V -H shader.vert &gt; vert.spv.txt</code></p><p><code>glslangValidator.exe -V -H shader.frag &gt; frag.spv.txt</code></p><p>“glslangValidator”
 takes a specified file and generates SPIR-V file from it. The type of 
shader stage is automatically detected by the input file’s extension 
(“.vert” for vertex shaders, “.geom” for geometry shaders, and so on). 
The name of the generated file can be specified, but by default it takes
 a form “&lt;stage&gt;.spv”. So in our example “vert.spv” and “frag.spv”
 files will be generated.</p><p>SPIR-V files have a binary format so it 
may be hard to read and analyze them—but not impossible. When the “-H” 
option is used, “glslangValidator” outputs SPIR-V in a form that can be 
more easily read. This form is printed on standard output and that’s why
 I’m using the “&gt; *.spv.txt” redirection operator.</p><p>Here are the contents of a “shader.vert” file from which SPIR-V assembly was generated for the vertex stage:</p><div id="highlighter_374687" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="preprocessor">#version 400</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">void main() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">vec2 pos[3] = vec2[3]( vec2(-0.7, 0.7), vec2(0.7, 0.7), vec2(0.0, -0.7) );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">gl_Position = vec4( pos[gl_VertexIndex], 0.0, 1.0 );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p><strong>9.</strong><em>shader.vert</em></p><p>As
 you can see I have hardcoded the positions of all vertices used to 
render the triangle. They are indexed using the Vulkan-specific 
“gl_VertexIndex” built-in variable. In the simplest scenario, when using
 non-indexed drawing commands (which takes place here) this value starts
 from the value of the “firstVertex” parameter of a drawing command 
(zero in the provided example).</p><p>This is the disputable part I 
wrote about earlier—this approach is acceptable and valid but not quite 
convenient to maintain and also allows us to skip some of the “structure
 filling” needed to create the graphics pipeline. I’ve chosen it in 
order to shorten and simplify this tutorial as much as possible. In the 
next tutorial, I will present a more typical way of drawing any number 
of vertices, similar to using vertex arrays and indices in OpenGL.</p><p>Below
 is the source code of a fragment shader from the “shader.frag” file 
that was used to generate the SPIRV-V assembly for the fragment stage:</p><div id="highlighter_175772" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="preprocessor">#version 400</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">layout(location = 0) out vec4 out_Color;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">void main() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">out_Color = vec4( 0.0, 0.4, 1.0, 1.0 );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p><strong>10.</strong><em>shader.frag</em></p><p>In
 Vulkan’s shaders (when transforming from GLSL to SPIR-V) layout 
qualifiers are required. Here we specify to what output (color) 
attachment we want to store the color values generated by the fragment 
shader. Because we are using only one attachment, we must specify the 
first available location (zero).</p><p>Now that you know how to prepare 
shaders for applications using Vulkan, we can move on to the next step. 
After we have created two shader modules, we check whether these 
operations succeeded. If they did we can start preparing a description 
of all shader stages that will constitute our graphics pipeline.</p><p>For
 each enabled shader stage we need to prepare an instance of 
VkPipelineShaderStageCreateInfo structure. Arrays of these structures 
along with the number of its elements are together used in a graphics 
pipeline create info structure (provided to the function that creates 
the graphics pipeline). VkPipelineShaderStageCreateInfo structure has 
the following fields:</p><ul><li>sType – Type of structure that we are 
preparing, which in this case must be equal to 
VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO.</li><li>pNext – Pointer reserved for extensions.</li><li>flags – Parameter reserved for future use.</li><li>stage – Type of shader stage we are describing (like vertex, tessellation control, and so on).</li><li>module – Handle to a shader module that contains the shader for a given stage.</li><li>pName – Name of the entry point of the provided shader.</li><li>pSpecializationInfo – Pointer to a VkSpecializationInfo structure, which we will leave for now and set to null.</li></ul><p>When
 we are creating a graphics pipeline we don’t create too many (Vulkan) 
objects. Most of the data is presented in a form of just such 
structures.</p><h3>Preparing Description of a Vertex Input<a class="inpage-nav-anchor" id="inpage-nav-5-3"></a></h3><p>Now
 we must provide a description of the input data used for drawing. This 
is similar to OpenGL’s vertex data: attributes, number of components, 
buffers from which to take data, data’s stride, or step rate. In Vulkan 
this data is of course prepared in a different way, but in general the 
meaning is the same. Fortunately, because of the fact that vertex data 
is hardcoded into a vertex shader in this tutorial, we can almost 
entirely skip this step and fill the 
VkPipelineVertexInputStateCreateInfo with almost nulls and zeros:</p><div id="highlighter_63019" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">VkPipelineVertexInputStateCreateInfo vertex_input_state_create_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO,&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkPipelineVertexInputStateCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 vertexBindingDescriptionCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkVertexInputBindingDescription&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pVertexBindingDescriptions</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 vertexAttributeDescriptionCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>8</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkVertexInputAttributeDescription&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pVertexAttributeDescriptions</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>9</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div></div></div><p><strong>11. </strong><em>Tutorial03.cpp, function CreatePipeline()</em></p><p>But for clarity here is a description of the members of the VkPipelineVertexInputStateCreateInfo structure:</p><ul><li>sType – Type of structure, VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO here.</li><li>pNext – Pointer to an extension-specific structure.</li><li>flags – Parameter reserved for future use.</li><li>vertexBindingDescriptionCount – Number of elements in the pVertexBindingDescriptions array.</li><li>pVertexBindingDescriptions – Array with elements describing input vertex data (stride and stepping rate).</li><li>vertexAttributeDescriptionCount – Number of elements in the pVertexAttributeDescriptions array.</li><li>pVertexAttributeDescriptions – Array with elements describing vertex attributes (location, format, offset).</li></ul><h3>Preparing the Description of an Input Assembly<a class="inpage-nav-anchor" id="inpage-nav-5-4"></a></h3><p>The
 next step requires us to describe how vertices should be assembled into
 primitives. As with OpenGL, we must specify what topology we want to 
use: points, lines, triangles, triangle fan, and so on.</p><div id="highlighter_348157" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">VkPipelineInputAssemblyStateCreateInfo input_assembly_state_create_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO,&nbsp; </code><code class="comments">//
 
VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkPipelineInputAssemblyStateCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkPrimitiveTopology&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 topology</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_FALSE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBool32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 primitiveRestartEnable</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div></div></div><p><strong>12.</strong><em>Tutorial03.cpp, function CreatePipeline()</em></p><p>We do that through the VkPipelineInputAssemblyStateCreateInfo structure, which contains the following members:</p><ul><li>sType – Structure type set here to VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO.</li><li>pNext – Pointer not yet used.</li><li>flags – Parameter reserved for future use.</li><li>topology – Parameter describing how vertices will be organized to form a primitive.</li><li>primitiveRestartEnable
 – Parameter that tells whether a special index value (when indexed 
drawing is performed) restarts assembly of a given primitive.</li></ul><h3>Preparing the Viewport’s Description<a class="inpage-nav-anchor" id="inpage-nav-5-5"></a></h3><p>We
 have finished dealing with input data. Now we must specify the form of 
output data, all the part of the graphics pipeline that are connected 
with fragments, like rasterization, window (viewport), depth tests, and 
so on. The first set of data we must prepare here is the state of the 
viewport, which specifies to what part of the image (or texture, or 
window) we want do draw.</p><div id="highlighter_416988" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">VkViewport viewport = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0.0f,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 x</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0.0f,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 y</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">300.0f,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 width</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">300.0f,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 height</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0.0f,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 minDepth</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1.0f&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 maxDepth</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">VkRect2D scissor = {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkOffset2D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 offset</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
int32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 x</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
int32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 y</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">},</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkExtent2D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 extent</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">300,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
int32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 width</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">300&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
int32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 height</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="plain">VkPipelineViewportStateCreateInfo viewport_state_create_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkPipelineViewportStateCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 viewportCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;viewport,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
VkViewport&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pViewports</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 scissorCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;scissor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
VkRect2D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pScissors</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div></div></div><p><strong>13.</strong><em>Tutorial03.cpp, function CreatePipeline()</em></p><p>In
 this example, the usage is simple: we just set the viewport coordinates
 to some predefined values. I don’t check the size of the swap chain 
image we are rendering into. But remember that in real-life production 
applications this has to be done because the specification states that 
dimensions of the viewport cannot exceed the dimensions of the 
attachments that we are rendering into.</p><p>To specify the viewport’s parameters, we fill the VkViewport structure that contains these fields:</p><ul><li>x – Left side of the viewport.</li><li>y – Upper side of the viewport.</li><li>width – Width of the viewport.</li><li>height – Height of the viewport.</li><li>minDepth – Minimal depth value used for depth calculations.</li><li>maxDepth – Maximal depth value used for depth calculations.</li></ul><p>When
 specifying viewport coordinates, remember that the origin is different 
than in OpenGL. Here we specify the upper-left corner of the viewport 
(not the lower left).</p><p>Also worth noting is that the minDepth and 
maxDepth values must be between 0.0 and 1.0 (inclusive) but maxDepth can
 be lower than minDepth. This will cause the depth to be calculated in 
“reverse.”</p><p>Next we must specify the parameters for the scissor 
test. The scissor test, similarly to OpenGL, restricts generation of 
fragments only to the specified rectangular area. But in Vulkan, the 
scissor test is always enabled and can’t be turned off. We can just 
provide the values identical to the ones provided for viewport. Try 
changing these values and see how it influences the generated image.</p><p>The
 scissor test doesn’t have a dedicated structure. To provide data for it
 we fill the VkRect2D structure which contains two similar structure 
members. First is VkOffset2D with the following members:</p><ul><li>x – Left side of the rectangular area used for scissor test</li><li>y – Upper side of the scissor area</li></ul><p>The second member is of type VkExtent2D, which contains the following fields:</p><ul><li>width – Width of the scissor rectangular area</li><li>height – Height of the scissor area</li></ul><p>In
 general, the meaning of the data we provide for the scissor test 
through the VkRect2D structure is similar to the data prepared for 
viewport.</p><p>After we have finished preparing data for viewport and 
the scissor test, we can finally fill the structure that is used during 
pipeline creation. The structure is called 
VkPipelineViewportStateCreateInfo, and it contains the following fields:</p><ul><li>sType – Type of the structure, VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO here.</li><li>pNext – Pointer reserved for extensions.</li><li>flags – Parameter reserved for future use.</li><li>viewportCount – Number of elements in the pViewports array.</li><li>pViewports – Array with elements describing parameters of viewports used when the given pipeline is bound.</li><li>scissorCount – Number of elements in the pScissors array.</li><li>pScissors – Array with elements describing parameters of the scissor test for each viewport.</li></ul><p>Remember
 that the viewportCount and scissorCount parameters must be equal. We 
are also allowed to specify more viewports, but then the multiViewport 
feature must be also enabled.</p><h3>Preparing the Rasterization State’s Description<a class="inpage-nav-anchor" id="inpage-nav-5-6"></a></h3><p>The
 next part of the graphics pipeline creation applies to the 
rasterization state. We must specify how polygons are going to be 
rasterized (changed into fragments), which means whether we want 
fragments to be generated for whole polygons or just their edges 
(polygon mode) or whether we want to see the front or back side or maybe
 both sides of the polygon (face culling). We can also provide depth 
bias parameters or indicate whether we want to enable depth clamp. This 
whole state is encapsulated into VkPipelineRasterizationStateCreateInfo.
 It contains the following members:</p><ul><li>sType – Structure type, VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO in this example.</li><li>pNext – Pointer reserved for extensions.</li><li>flags – Parameter reserved for future use.</li><li>depthClampEnable
 – Parameter describing whether we want to clamp depth values of the 
rasterized primitive to the frustum (when true) or if we want normal 
clipping to occur (false).</li><li>rasterizerDiscardEnable – Deactivates fragment generation (discards primitive before rasterization turning off fragment shader).</li><li>polygonMode
 – Controls how the fragments are generated for a given primitive 
(triangle mode): whether they are generated for the whole triangle, only
 its edges, or just its vertices.</li><li>cullMode – Chooses the triangle’s face used for culling (if enabled).</li><li>frontFace – Chooses which side of a triangle should be considered the front (depending on the winding order).</li><li>depthBiasEnable – Enabled or disables biasing of fragments’ depth values.</li><li>depthBiasConstantFactor – Constant factor added to each fragment’s depth value when biasing is enabled.</li><li>depthBiasClamp – Maximum (or minimum) value of bias that can be applied to fragment’s depth.</li><li>depthBiasSlopeFactor – Factor applied for fragment’s slope during depth calculations when biasing is enabled.</li><li>lineWidth – Width of rasterized lines.</li></ul><p>Here is the source code responsible for setting rasterization state in our example:</p><div id="highlighter_618278" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">VkPipelineRasterizationStateCreateInfo rasterization_state_create_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO,&nbsp;&nbsp; </code><code class="comments">//
 
VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkPipelineRasterizationStateCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_FALSE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBool32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 depthClampEnable</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_FALSE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBool32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 rasterizerDiscardEnable</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_POLYGON_MODE_FILL,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkPolygonMode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 polygonMode</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_CULL_MODE_BACK_BIT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkCullModeFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 cullMode</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_FRONT_FACE_COUNTER_CLOCKWISE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkFrontFace&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 frontFace</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_FALSE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBool32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 depthBiasEnable</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0.0f,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 depthBiasConstantFactor</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0.0f,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 depthBiasClamp</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0.0f,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 depthBiasSlopeFactor</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1.0f&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 lineWidth</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div></div></div><p><strong>14.</strong><em>Tutorial03.cpp, function CreatePipeline()</em></p><p>In
 the tutorial we are disabling as many parameters as possible to 
simplify the process, the code itself, and the rendering operations. The
 parameters that matter here set up (typical) fill mode for polygon 
rasterization, back face culling, and similar to OpenGL’s 
counterclockwise front faces. Depth biasing and clamping are also 
disabled (to enable depth clamping, we first need to enable a dedicated 
feature during logical device creation; similarly we must do the same 
for polygon modes other than “fill”).</p><h3>Setting the Multisampling State’s Description<a class="inpage-nav-anchor" id="inpage-nav-5-7"></a></h3><p>In
 Vulkan, when we are creating a graphics pipeline, we must also specify 
the state relevant to multisampling. This is done using the 
VkPipelineMultisampleStateCreateInfo structure. Here are its members:</p><ul><li>sType – Type of structure, VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO here.</li><li>pNext – Pointer reserved for extensions.</li><li>flags – Parameter reserved for future use.</li><li>rasterizationSamples – Number of per pixel samples used in rasterization.</li><li>sampleShadingEnable
 – Parameter specifying that shading should occur per sample (when 
enabled) instead of per fragment (when disabled).</li><li>minSampleShading
 – Specifies the minimum number of unique sample locations that should 
be used during the given fragment’s shading.</li><li>pSampleMask – Pointer to an array of static coverage sample masks; this can be null.</li><li>alphaToCoverageEnable – Controls whether the fragment’s alpha value should be used for coverage calculations.</li><li>alphaToOneEnable – Controls whether the fragment’s alpha value should be replaced with one.</li></ul><p>In
 this example, I wanted to minimize possible problems so I’ve set 
parameters to values that generally disable multisampling—just one 
sample per given pixel with the other parameters turned off. Remember 
that if we want to enable sample shading or alpha to one, we also need 
to enable two respective features. Here is a source code that prepares 
the VkPipelineMultisampleStateCreateInfo structure:</p><div id="highlighter_819312" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">VkPipelineMultisampleStateCreateInfo multisample_state_create_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO,&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkPipelineMultisampleStateCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_SAMPLE_COUNT_1_BIT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkSampleCountFlagBits&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 rasterizationSamples</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_FALSE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBool32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 sampleShadingEnable</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1.0f,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 minSampleShading</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
VkSampleMask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pSampleMask</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_FALSE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBool32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 alphaToCoverageEnable</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_FALSE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBool32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 alphaToOneEnable</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div></div></div><p><strong>15.</strong><em>Tutorial03.cpp, function CreatePipeline()</em></p><h3>Setting the Blending State’s Description<a class="inpage-nav-anchor" id="inpage-nav-5-8"></a></h3><p>Another thing we need to prepare when creating a graphics pipeline is a blending state (which also includes logical operations).</p><div id="highlighter_628112" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">VkPipelineColorBlendAttachmentState color_blend_attachment_state = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_FALSE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBool32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 blendEnable</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_BLEND_FACTOR_ONE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBlendFactor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 srcColorBlendFactor</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_BLEND_FACTOR_ZERO,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBlendFactor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 dstColorBlendFactor</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_BLEND_OP_ADD,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBlendOp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 colorBlendOp</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_BLEND_FACTOR_ONE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBlendFactor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 srcAlphaBlendFactor</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_BLEND_FACTOR_ZERO,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBlendFactor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 dstAlphaBlendFactor</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_BLEND_OP_ADD,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBlendOp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 alphaBlendOp</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_COLOR_COMPONENT_R_BIT | VK_COLOR_COMPONENT_G_BIT |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
VkColorComponentFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 colorWriteMask</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_COLOR_COMPONENT_B_BIT | VK_COLOR_COMPONENT_A_BIT</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="plain">VkPipelineColorBlendStateCreateInfo color_blend_state_create_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO,&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkPipelineColorBlendStateCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_FALSE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkBool32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 logicOpEnable</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_LOGIC_OP_COPY,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkLogicOp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 logicOp</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 attachmentCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;color_blend_attachment_state,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPipelineColorBlendAttachmentState&nbsp;&nbsp;&nbsp;&nbsp; *pAttachments</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">{
 0.0f, 0.0f, 0.0f, 0.0f 
}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 blendConstants[4]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div></div></div><p><strong>16.</strong><em>Tutorial03.cpp, function CreatePipeline()</em></p><p>Final color operations are set up through the VkPipelineColorBlendStateCreateInfo structure. It contains the following fields:</p><ul><li>sType – Type of the structure, set to VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO in this example.</li><li>pNext – Pointer reserved for future, extension-specific use.</li><li>flags – Parameter also reserved for future use.</li><li>logicOpEnable – Indicates whether we want to enable logical operations on pixels.</li><li>logicOp – Type of the logical operation we want to perform (like copy, clear, and so on)</li><li>attachmentCount – Number of elements in the pAttachments array.</li><li>pAttachments
 – Array containing state parameters for each color attachment used in a
 subpass for which the given graphics pipeline is bound.</li><li>blendConstants – Four-element array with color value used in blending operation (when a dedicated blend factor is used).</li></ul><p>More
 information is needed for the attachmentCount and pAttachments 
parameters. When we want to perform drawing operations we set up 
parameters, the most important of which are graphics pipeline, render 
pass, and framebuffer. The graphics card needs to know how to draw 
(graphics pipeline which describes rendering state, shaders, test, and 
so on) and where to draw (the render pass gives general setup; the 
framebuffer specifies exactly what images are used). As I have already 
mentioned, the render pass specifies how operations are ordered, what 
the dependencies are, when we are rendering into a given attachment, and
 when we are reading from the same attachment. These stages take the 
form of subpasses. And for each drawing operation we can (but don’t have
 to) enable/use a different pipeline. But when we are drawing, we must 
remember that we are drawing into a set of attachments. This set is 
defined in a render pass, which describes all color, input, depth 
attachments (the framebuffer just specifies what images are used for 
each of them). For the blending state, we can specify whether we want to
 enable blending at all. This is done through the pAttachments array. 
Each of its elements must correspond to each color attachment defined in
 a render pass. So the value of attachmentCount elements in the 
pAttachments array must equal the number of color attachments defined in
 a render pass.</p><p>There is one more restriction. By default all 
elements in pAttachments array must contain the same values, must be 
specified in the same way, and must be identical. By default, blending 
(and color masks) is done in the same way for all attachments. So why it
 is an array? Why can’t we just specify one value? Because there is a 
feature that allows us to perform independent, distinct blending for 
each active color attachment. When we enable the independent blending 
feature during device creation we can provide different values for each 
color attachment.</p><p>Each pAttachments array’s element is of type VkPipelineColorBlendAttachmentState. It is a structure with the following members:</p><ul><li>blendEnable – Indicates whether we want to enable blending at all.</li><li>srcColorBlendFactor – Blending factor for color of the source (incoming) fragment.</li><li>dstColorBlendFactor
 – Blending factor for the destination color (stored already in the 
framebuffer at the same location as the incoming fragment).</li><li>colorBlendOp – Type of operation to perform (multiplication, addition, and so on).</li><li>srcAlphaBlendFactor – Blending factor for the alpha value of the source (incoming) fragment.</li><li>dstAlphaBlendFactor – Blending factor for the destination alpha value (already stored in the framebuffer).</li><li>alphaBlendOp – Type of operation to perform for alpha blending.</li><li>colorWriteMask – Bitmask selecting which of the RGBA components are selected (enabled) for writing.</li></ul><p>In
 this example, we disable blending, which causes all other parameters to
 be irrelevant. Except for colorWriteMask, we select all components for 
writing but you can freely check what will happen when this parameter is
 changed to some other R, G, B, A combinations.</p><h3>Creating a Pipeline Layout<a class="inpage-nav-anchor" id="inpage-nav-5-9"></a></h3><p>The
 final thing we must do before pipeline creation is create a proper 
pipeline layout. A pipeline layout describes all the resources that can 
be accessed by the pipeline. In this example we must specify how many 
textures can be used by shaders and which shader stages will have access
 to them. There are of course other resources involved. Apart from 
shader stages, we must also describe the types of resources (textures, 
buffers), their total numbers, and layout. This layout can be compared 
to OpenGL’s active textures and shader uniforms. In OpenGL we bind 
textures to the desired texture image units and for shader uniforms we 
don’t provide texture handles but IDs of the texture image units to 
which actual textures are bound (we provide the number of the unit which
 the given texture was associated with).</p><p>With Vulkan, the 
situation is similar. We create some form of a memory layout: first 
there are two buffers, next we have three textures and an image. This 
memory “structure” is called a set and a collection of these sets is 
provided for the pipeline. In shaders, we access specified resources 
using specific memory “locations” from within these sets (layouts). This
 is done through a layout (set = X, binding = Y) specifier, which can be
 translated to: take the resource from the Y memory location from the X 
set.</p><p>And pipeline layout can be thought of as an interface between
 shader stages and shader resources as it takes these groups of 
resources, describes how they are gathered, and provides them to the 
pipeline.</p><p>This process is complex and I plan to devote a tutorial 
to it. Here we are not using any additional resources so I present an 
example for creating an “empty” pipeline layout:</p><div id="highlighter_282335" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">VkPipelineLayoutCreateInfo layout_create_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO,&nbsp; </code><code class="comments">// VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkPipelineLayoutCreateFlags&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 setLayoutCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkDescriptorSetLayout&nbsp;&nbsp; *pSetLayouts</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 pushConstantRangeCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPushConstantRange&nbsp;&nbsp;&nbsp;&nbsp; *pPushConstantRanges</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">VkPipelineLayout pipeline_layout;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="keyword">if</code><code class="plain">( vkCreatePipelineLayout( GetDevice(), &amp;layout_create_info, nullptr, &amp;pipeline_layout ) != VK_SUCCESS ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">printf( </code><code class="string">"Could not create pipeline layout!\n"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">Tools::AutoDeleter&lt;VkPipelineLayout, PFN_vkDestroyPipelineLayout&gt;();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="keyword">return</code> <code class="plain">Tools::AutoDeleter&lt;VkPipelineLayout,
 PFN_vkDestroyPipelineLayout&gt;( pipeline_layout, 
vkDestroyPipelineLayout, GetDevice() );</code></td></tr></tbody></table></div></div></div><p><strong>17.</strong><em>Tutorial03.cpp, function CreatePipelineLayout()</em></p><p>To
 create a pipeline layout we must first prepare a variable of type 
VkPipelineLayoutCreateInfo. It contains the following fields:</p><ul><li>sType – Type of structure, VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO in this example.</li><li>pNext – Parameter reserved for extensions.</li><li>flags – Parameter reserved for future use.</li><li>setLayoutCount – Number of descriptor sets included in this layout.</li><li>pSetLayouts – Pointer to an array containing descriptions of descriptor layouts.</li><li>pushConstantRangeCount – Number of push constant ranges (I will describe it in a later tutorial).</li><li>pPushConstantRanges – Array describing all push constant ranges used inside shaders (in a given pipeline).</li></ul><p>In this example we create “empty” layout so almost all the fields are set to null or zero.</p><p>We
 are not using push constants here, but they deserve some explanation. 
Push constants in Vulkan allow us to modify the data of constant 
variables used in shaders. There is a special, small amount of memory 
reserved for push constants. We update their values through Vulkan 
commands, not through memory updates, and it is expected that updates of
 push constants’ values are faster than normal memory writes.</p><p>As 
shown in the above example, I’m also wrapping pipeline layout in an 
“AutoDeleter” object. Pipeline layouts are required during pipeline 
creation, descriptor sets binding (enabling/activating this interface 
between shaders and shader resources) and push constants setting. None 
of these operations, except for pipeline creation, take place in this 
tutorial. So here, after we create a pipeline, we don’t need the layout 
anymore. To avoid memory leaks, I have used this helper class to destroy
 the layout as soon as we leave the function in which graphics pipeline 
is created.</p><h3>Creating a Graphics Pipeline<a class="inpage-nav-anchor" id="inpage-nav-5-10"></a></h3><p>Now we have all the resources required to properly create graphics pipeline. Here is the code that does that:</p><div id="highlighter_204818" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">Tools::AutoDeleter&lt;VkPipelineLayout, PFN_vkDestroyPipelineLayout&gt; pipeline_layout = CreatePipelineLayout();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="keyword">if</code><code class="plain">( !pipeline_layout ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">VkGraphicsPipelineCreateInfo pipeline_create_info = {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 sType</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkPipelineCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 flags</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">static_cast&lt;uint32_t&gt;(shader_stage_create_infos.size()),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 stageCount</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;shader_stage_create_infos[0],&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPipelineShaderStageCreateInfo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pStages</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;vertex_input_state_create_info,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPipelineVertexInputStateCreateInfo&nbsp;&nbsp;&nbsp; *pVertexInputState;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;input_assembly_state_create_info,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPipelineInputAssemblyStateCreateInfo&nbsp; *pInputAssemblyState</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPipelineTessellationStateCreateInfo&nbsp;&nbsp; *pTessellationState</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;viewport_state_create_info,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPipelineViewportStateCreateInfo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pViewportState</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;rasterization_state_create_info,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPipelineRasterizationStateCreateInfo&nbsp; *pRasterizationState</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;multisample_state_create_info,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPipelineMultisampleStateCreateInfo&nbsp;&nbsp;&nbsp; *pMultisampleState</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPipelineDepthStencilStateCreateInfo&nbsp;&nbsp; *pDepthStencilState</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;color_blend_state_create_info,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPipelineColorBlendStateCreateInfo&nbsp;&nbsp;&nbsp;&nbsp; *pColorBlendState</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPipelineDynamicStateCreateInfo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pDynamicState</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">pipeline_layout.Get(),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkPipelineLayout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 layout</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">Vulkan.RenderPass,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkRenderPass&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 renderPass</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 subpass</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_NULL_HANDLE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkPipeline&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 basePipelineHandle</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">-1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
int32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 basePipelineIndex</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="keyword">if</code><code class="plain">(
 vkCreateGraphicsPipelines( GetDevice(), VK_NULL_HANDLE, 1, 
&amp;pipeline_create_info, nullptr, &amp;Vulkan.GraphicsPipeline ) != 
VK_SUCCESS ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">printf( </code><code class="string">"Could not create graphics pipeline!\n"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="keyword">return</code> <code class="keyword">true</code><code class="plain">;</code></td></tr></tbody></table></div></div></div><p><strong>18.</strong><em>Tutorial03.cpp, function CreatePipeline()</em></p><p>First
 we create a pipeline layout wrapped in an object of type “AutoDeleter”.
 Next we fill the structure of type VkGraphicsPipelineCreateInfo. It 
contains many fields. Here is a brief description of them:</p><ul><li>sType – Type of structure, VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO here.</li><li>pNext – Parameter reserved for future, extension-related use.</li><li>flags
 – This time this parameter is not reserved for future use but controls 
how the pipeline should be created: if we are creating a derivative 
pipeline (if we are inheriting from another pipeline) or if we allow 
creating derivative pipelines from this one. We can also disable 
optimizations, which should shorten the time needed to create a 
pipeline.</li><li>stageCount – Number of stages described in the pStages parameter; must be greater than zero.</li><li>pStages
 – Array with descriptions of active shader stages (the ones created 
using shader modules); each stage must be unique (we can’t specify a 
given stage more than once). There also must be a vertex stage present.</li><li>pVertexInputState – Pointer to a variable contain the description of the vertex input’s state.</li><li>pInputAssemblyState – Pointer to a variable with input assembly description.</li><li>pTessellationState – Pointer to a description of the tessellation stages; can be null if tessellation is disabled.</li><li>pViewportState – Pointer to a variable specifying viewport parameters; can be null if rasterization is disabled.</li><li>pRasterizationState – Pointer to a variable specifying rasterization behavior.</li><li>pMultisampleState – Pointer to a variable defining multisampling; can be null if rasterization is disabled.</li><li>pDepthStencilState
 – Pointer to a description of depth/stencil parameters; this can be 
null in two situations: when rasterization is disabled or we’re not 
using depth/stencil attachments in a render pass.</li><li>pColorBlendState
 – Pointer to a variable with color blending/write masks state; can be 
null also in two situations: when rasterization is disabled or when 
we’re not using any color attachments inside the render pass.</li><li>pDynamicState
 – Pointer to a variable specifying which parts of the graphics pipeline
 can be set dynamically; can be null if the whole state is considered 
static (defined only through this create info structure).</li><li>layout – Handle to a pipeline layout object that describes resources accessed inside shaders.</li><li>renderPass – Handle to a render pass object; pipeline can be used with any render pass compatible with the provided one.</li><li>subpass – Number (index) of a subpass in which the pipeline will be used.</li><li>basePipelineHandle – Handle to a pipeline this one should derive from.</li><li>basePipelineIndex – Index of a pipeline this one should derive from.</li></ul><p>When
 we are creating a new pipeline, we can inherit some of the parameters 
from another one. This means that both pipelines should have much in 
common. A good example is shader code. We don’t specify what fields are 
the same, but the general message that the pipeline inherits from 
another one may substantially accelerate pipeline creation. But why are 
there two fields to indicate a “parent” pipeline? We can’t use them 
both—only one of them at a time. When we are using a handle, this means 
that the “parent” pipeline is already created and we are deriving from 
the one we have provided the handle of. But the pipeline creation 
function allows us to create many pipelines at once. Using the second 
parameter, “parent” pipeline index, we can create both “parent” and 
“child” pipelines in the same call. We just specify an array of graphics
 pipeline creation info structures and this array is provided to 
pipeline creation function. So the “basePipelineIndex” is the index of 
pipeline creation info in this very array. We just have to remember that
 the “parent” pipeline must be earlier (must have a smaller index) in 
this array and it must be created with the “allow derivatives” flag set.</p><p>In
 this example we are creating a pipeline with the state being entirely 
static (null for the “pDynamicState” parameter). But what is a dynamic 
state? To allow for some flexibility and to lower the number of created 
pipeline objects, the dynamic state was introduced. We can define 
through the “pDynamicState” parameter what parts of the graphics 
pipeline can be set dynamically through additional Vulkan commands and 
what parts are being static, set once during pipeline creation. The 
dynamic state includes parameters such as viewports, line widths, blend 
constants, or some stencil parameters. If we specify that a given state 
is dynamic, parameters in a pipeline creation info structure that are 
related to that state are ignored. We must set the given state using the
 proper Vulkan commands during rendering because initial values of such 
state may be undefined.</p><p>So after these quite overwhelming preparations we can create a graphics pipeline. This is done by calling the <strong>vkCreateGraphicsPipelines()</strong>
 function which, among others, takes an array of pointers to the 
pipeline create info structures. When everything goes well, VK_SUCCESS 
should be returned by this function and a handle of a graphics pipeline 
should be stored in a variable we’ve provided the address of. Now we are
 ready to start drawing.</p><h2>Preparing Drawing Commands<a class="inpage-nav-anchor" id="inpage-nav-6"></a></h2><p>I
 introduced you to the concept of command buffers in the previous 
tutorial. Here I will briefly explain what are they and how to use them.</p><p>Command
 buffers are containers for GPU commands. If we want to execute some job
 on a device, we do it through command buffers. This means that we must 
prepare a set of commands that process data (that is, draw something on 
the screen) and record these commands in command buffers. Then we can 
submit whole buffers to device’s queues. This submit operation tells the
 device: here is a bunch of things I want you to do for me and do them 
now.</p><p>To record commands, we must first allocate command buffers. 
These are allocated from command pools, which can be thought of as 
memory chunks. If a command buffer needs to be larger (as we record many
 complicated commands in it) it can grow and use additional memory from a
 pool it was allocated with. So first we must create a command pool.</p><h3>Creating a Command Pool<a class="inpage-nav-anchor" id="inpage-nav-6-1"></a></h3><p>Command pool creation is simple and looks like this:</p><div id="highlighter_225810" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">VkCommandPoolCreateInfo cmd_pool_create_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO,&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkCommandPoolCreateFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">queue_family_index&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 queueFamilyIndex</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="keyword">if</code><code class="plain">( vkCreateCommandPool( GetDevice(), &amp;cmd_pool_create_info, nullptr, pool ) != VK_SUCCESS ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="keyword">return</code> <code class="keyword">true</code><code class="plain">;</code></td></tr></tbody></table></div></div></div><p><strong>19.</strong><em>Tutorial03.cpp, function CreateCommandPool()</em></p><p>First we prepare a variable of type VkCommandPoolCreateInfo. It contains the following fields:</p><ul><li>sType – Standard type of structure, set to VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO here.</li><li>pNext – Pointer reserved for extensions.</li><li>flags
 – Indicates usage scenarios for command pool and command buffers 
allocated from it; that is, we can tell the driver that command buffers 
allocated from this pool will live for a short time; for no specific 
usage we can set it to zero.</li><li>queueFamilyIndex – Index of a queue family for which we are creating a command pool.</li></ul><p>Remember
 that command buffers allocated from a given pool can only be submitted 
to a queue from a queue family specified during pool creation.</p><p>To create a command pool, we just call the <strong>vkCreateCommandPool()</strong> function.</p><h3>Allocating Command Buffers<a class="inpage-nav-anchor" id="inpage-nav-6-2"></a></h3><p>Now that we have the command pool ready, we can allocate command buffers from it.</p><div id="highlighter_471854" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">VkCommandBufferAllocateInfo command_buffer_allocate_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO, </code><code class="comments">// VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">pool,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkCommandPool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 commandPool</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_COMMAND_BUFFER_LEVEL_PRIMARY,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkCommandBufferLevel&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; level</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">count&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 bufferCount</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="keyword">if</code><code class="plain">( vkAllocateCommandBuffers( GetDevice(), &amp;command_buffer_allocate_info, command_buffers ) != VK_SUCCESS ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="keyword">return</code> <code class="keyword">true</code><code class="plain">;</code></td></tr></tbody></table></div></div></div><p><strong>20.</strong><em>Tutorial03.cpp, function AllocateCommandBuffers()</em></p><p>To
 allocate command buffers we specify a variable of structure type. This 
time its type is VkCommandBufferAllocateInfo, which contains these 
members:</p><ul><li>sType – Type of the structure; VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO for this purpose.</li><li>pNext – Pointer reserved for extensions.</li><li>commandPool – Pool from which we want our command buffers to take their memory.</li><li>level
 – Command buffer level; there are two levels: primary and secondary; 
right now we are only interested in primary command buffers.</li><li>bufferCount – Number of command buffers we want to allocate.</li></ul><p>To allocate command buffers, call the <strong>vkAllocateCommandBuffers()</strong> function and check whether it succeeded. We can allocate many buffers at once with one function call.</p><p>I’ve
 prepared a simple buffer allocating function to show you how some 
Vulkan functions can be wrapped for easier use. Here is a usage of two 
such wrapper functions that create command pools and allocate command 
buffers from them.</p><div id="highlighter_921343" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">if</code><code class="plain">( !CreateCommandPool( GetGraphicsQueue().FamilyIndex, &amp;Vulkan.GraphicsCommandPool ) ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">printf( </code><code class="string">"Could not create command pool!\n"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">uint32_t image_count = static_cast&lt;uint32_t&gt;(GetSwapChain().Images.size());</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="plain">Vulkan.GraphicsCommandBuffers.resize( image_count, VK_NULL_HANDLE );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="keyword">if</code><code class="plain">( !AllocateCommandBuffers( Vulkan.GraphicsCommandPool, image_count, &amp;Vulkan.GraphicsCommandBuffers[0] ) ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">printf( </code><code class="string">"Could not allocate command buffers!\n"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="keyword">return</code> <code class="keyword">true</code><code class="plain">;</code></td></tr></tbody></table></div></div></div><p><strong>21.</strong><em>Tutorial03.cpp, function CreateCommandBuffers()</em></p><p>As
 you can see, we are creating a command pool for a graphics queue family
 index. All image state transitions and drawing operations will be 
performed on a graphics queue. Presentation is done on another queue (if
 the presentation queue is different from the graphics queue) but we 
don’t need a command buffer for this operation.</p><p>And we are also 
allocating command buffers for each swap chain image. Here we take 
number of images and provide it to this simple “wrapper” function for 
command buffer allocation.</p><h3>Recording Command Buffers<a class="inpage-nav-anchor" id="inpage-nav-6-3"></a></h3><p>Now
 that we have command buffers allocated from the command pool we can 
finally record operations that will draw something on the screen. First 
we must prepare a set of data needed for the recording operation. Some 
of this data is identical for all command buffers, but some is 
referencing a specific swap chain image. Here is a code that is 
independent of swap chain images:</p><div id="highlighter_626749" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">VkCommandBufferBeginInfo graphics_commandd_buffer_begin_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO,&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT,&nbsp;&nbsp; </code><code class="comments">// VkCommandBufferUsageFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkCommandBufferInheritanceInfo&nbsp; *pInheritanceInfo</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">VkImageSubresourceRange image_subresource_range = {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_IMAGE_ASPECT_COLOR_BIT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkImageAspectFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aspectMask</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 baseMipLevel</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 levelCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 baseArrayLayer</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 layerCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="plain">VkClearValue clear_value = {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">{
 1.0f, 0.8f, 0.4f, 0.0f 
},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkClearColorValue&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; color</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="plain">const std::vector&lt;VkImage&gt;&amp; swap_chain_images = GetSwapChain().Images;</code></td></tr></tbody></table></div></div></div><p><strong>22.</strong><em>Tutorial03.cpp, function RecordCommandBuffers()</em></p><p>Performing
 command buffer recording is similar to OpenGL’s drawing lists where we 
start recording a list by calling the glNewList() function. Next we 
prepare a set of drawing commands and then we close the list or stop 
recording it (glEndList()). So the first thing we need to do is to 
prepare a variable of type VkCommandBufferBeginInfo. It is used when we 
start recording a command buffer and it tells the driver about the type,
 contents, and desired usage of a command buffer. Variables of this type
 contain the following members:</p><ul><li>sType – Standard structure type, here set to VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO.</li><li>pNext – Pointer reserved for extensions.</li><li>flags
 – Parameters describing the desired usage (that is, if we want to 
submit this command buffer only once and destroy/reset it or if it is 
possible that the buffer will submitted again before the processing of 
its previous submission has finished).</li><li>pInheritanceInfo – Parameter used only when we want to record a secondary command buffer.</li></ul><p>Next
 we describe the areas or parts of our images that we will set up image 
memory barriers for. Here we set up barriers to specify that queues from
 different families will reference a given image. This is done through a
 variable of type VkImageSubresourceRange with the following members:</p><ul><li>aspectMask – Describes a “type” of image, whether it is for color, depth, or stencil data.</li><li>baseMipLevel – Number of a first mipmap level our operations will be performed on.</li><li>levelCount – Number of mipmap levels (including base level) we will be operating on.</li><li>baseArrayLayer – Number of an first array layer of an image that will take part in operations.</li><li>layerCount – Number of layers (including base layer) that will be modified.</li></ul><p>Next
 we set up a clear value for our images. Before drawing we need to clear
 images. In previous tutorials, we performed this operation explicitly 
by ourselves. Here images are cleared as a part of a render pass 
attachment load operation. We set to “clear” so now we must specify the 
color to which an image must be cleared. This is done using a variable 
of type VkClearValue in which we provide R, G, B, A values.</p><p>Variables
 we have created thus far are independent of an image itself, and that’s
 why we have specified them before a loop. Now we can start recording 
command buffers:</p><div id="highlighter_603502" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">for</code><code class="plain">( size_t i = 0; i &lt; Vulkan.GraphicsCommandBuffers.size(); ++i ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">vkBeginCommandBuffer( Vulkan.GraphicsCommandBuffers[i], &amp;graphics_commandd_buffer_begin_info );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">( GetPresentQueue().Handle != GetGraphicsQueue().Handle ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VkImageMemoryBarrier barrier_from_present_to_draw = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER,&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_ACCESS_MEMORY_READ_BIT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkAccessFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 srcAccessMask</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
VkAccessFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 dstAccessMask</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkImageLayout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oldLayout</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkImageLayout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newLayout</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GetPresentQueue().FamilyIndex,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 srcQueueFamilyIndex</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GetGraphicsQueue().FamilyIndex,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 dstQueueFamilyIndex</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">swap_chain_images[i],&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkImage&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 image</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">image_subresource_range&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkImageSubresourceRange&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; subresourceRange</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">vkCmdPipelineBarrier( Vulkan.GraphicsCommandBuffers[i],
 VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT, 
VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT, 0, 0, nullptr, 0, 
nullptr, 1, &amp;barrier_from_present_to_draw );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VkRenderPassBeginInfo render_pass_begin_info = {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_RENDER_PASS_BEGIN_INFO,&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sType</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const 
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pNext</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Vulkan.RenderPass,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkRenderPass&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 renderPass</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Vulkan.FramebufferObjects[i].Handle,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
VkFramebuffer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 framebuffer</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkRect2D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 renderArea</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkOffset2D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 offset</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
int32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 x</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
int32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 y</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">},</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkExtent2D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 extent</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">300,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
int32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 width</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">300,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
int32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 height</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">},</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 clearValueCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&amp;clear_value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkClearValue&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pClearValues</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>37</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>38</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>39</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">vkCmdBeginRenderPass( Vulkan.GraphicsCommandBuffers[i], &amp;render_pass_begin_info, VK_SUBPASS_CONTENTS_INLINE );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>40</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>41</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">vkCmdBindPipeline( Vulkan.GraphicsCommandBuffers[i], VK_PIPELINE_BIND_POINT_GRAPHICS, Vulkan.GraphicsPipeline );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>42</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>43</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">vkCmdDraw( Vulkan.GraphicsCommandBuffers[i], 3, 1, 0, 0 );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>44</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>45</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">vkCmdEndRenderPass( Vulkan.GraphicsCommandBuffers[i] );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>46</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>47</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">( GetGraphicsQueue().Handle != GetPresentQueue().Handle ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>48</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VkImageMemoryBarrier barrier_from_draw_to_present = {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>49</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sType</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>50</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pNext</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>51</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkAccessFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; srcAccessMask</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>52</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_ACCESS_MEMORY_READ_BIT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkAccessFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dstAccessMask</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>53</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkImageLayout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oldLayout</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>54</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkImageLayout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newLayout</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>55</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GetGraphicsQueue().FamilyIndex,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 srcQueueFamilyIndex</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>56</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">GetPresentQueue( ).FamilyIndex,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">//
 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 dstQueueFamilyIndex</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>57</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">swap_chain_images[i],&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkImage&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 image</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>58</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">image_subresource_range&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// VkImageSubresourceRange&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; subresourceRange</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>59</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>60</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">vkCmdPipelineBarrier( Vulkan.GraphicsCommandBuffers[i],
 VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT, 
VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT, 0, 0, nullptr, 0, nullptr, 1, 
&amp;barrier_from_draw_to_present );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>61</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>62</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>63</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">( vkEndCommandBuffer( Vulkan.GraphicsCommandBuffers[i] ) != VK_SUCCESS ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>64</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">printf( </code><code class="string">"Could not record command buffer!\n"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>65</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>66</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>67</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>68</code></td><td class="content"><code class="keyword">return</code> <code class="keyword">true</code><code class="plain">;</code></td></tr></tbody></table></div></div></div><p><strong>23.</strong><em>Tutorial03.cpp, function RecordCommandBuffers()</em></p><p>Recording a command buffer is started by calling the <strong>vkBeginCommandBuffer()</strong>
 function. At the beginning we set up a barrier that tells the driver 
that previously queues from one family referenced a given image but now 
queues from a different family will be referencing it (we need to do 
this because during swap chain creation we specified exclusive sharing 
mode). The barrier is set only when the graphics queue is different than
 the present queue. This is done by calling the <strong>vkCmdPipelineBarrier()</strong>
 function. We must specify when in the pipeline the barrier should be 
placed (VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT) and how the 
barrier should be set up. Barrier parameters are prepared through the 
VkImageMemoryBarrier structure:</p><ul><li>sType – Type of the structure, here set to VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER.</li><li>pNext – Pointer reserved for extensions.</li><li>srcAccessMask – Type of memory operations that took place in regard to a given image before the barrier.</li><li>dstAccessMask – Type of memory operations connected with a given image that will take place after the barrier.</li><li>oldLayout – Current image memory layout.</li><li>newLayout – Memory layout image you should have after the barrier.</li><li>srcQueueFamilyIndex – Index of a family of queues which were referencing image before the barrier.</li><li>dstQueueFamilyIndex – Index of a queue family queues from which will be referencing image after the barrier.</li><li>image – Handle to the image itself.</li><li>subresourceRange – Parts of an image for which we want the transition to occur.</li></ul><p>In
 this example we don’t change the layout of an image, for two reasons: 
(1) The barrier may not be set at all (if the graphics and present 
queues are the same), and (2) the layout transition will be performed 
automatically as a render pass operation (at the beginning of the 
first—and only—subpass).</p><p>Next we start a render pass. We call the <strong>vkCmdBeginRenderPass()</strong> function for which we must provide a pointer to a variable of VkRenderPassBeginInfo type. It contains the following members:</p><ul><li>sType – Standard type of structure. In this case we must set it to a value of VK_STRUCTURE_TYPE_RENDER_PASS_BEGIN_INFO.</li><li>pNext – Pointer reserved for future use.</li><li>renderPass – Handle of a render pass we want to start.</li><li>framebuffer – Handle of a framebuffer, which specifies images used as attachments for this render pass.</li><li>renderArea
 – Area of all images that will be affected by the operations that takes
 place in this render pass. It specifies the upper-left corner (through x
 and y parameters of an offset member) and width and height (through 
extent member) of a render area.</li><li>clearValueCount – Number of elements in pClearValues array.</li><li>pClearValues – Array with clear values for each attachment.</li></ul><p>When
 we specify a render area for the render pass, we must make sure that 
the rendering operations won’t modify pixels outside this area. This is 
just a hint for a driver so it could optimize its behavior. If we won’t 
confine operations to the provided area by using a proper scissor test, 
pixels outside this area may become undefined (we can’t rely on their 
contents). We also can’t specify a render area that is greater than a 
framebuffer’s dimensions (falls outside the framebuffer).</p><p>And with
 a pClearValues array, it must contain the elements for each render pass
 attachment. Each of its members specifies the color to which the given 
attachment must be cleared when its loadOp is set to clear. For 
attachments where loadOp is not clear, the values provided for them are 
ignored. But we can’t provide an array with a smaller amount of 
elements.</p><p>We have begun a command buffer, set a barrier (if 
necessary), and started a render pass. When we start a render pass we 
are also starting its first subpass. We can switch to the next subpass 
by calling the <strong>vkCmdNextSubpass()</strong> function. During 
these operations, layout transitions and clear operations may occur. 
Clears are done in a subpass in which the image is first used 
(referenced). Layout transitions occur each time a subpass layout is 
different than the layout in a previous subpass or (in the case of a 
first subpass or when the image is first referenced) different than the 
initial layout (layout before the render pass). So in our example when 
we start a render pass, the swap chain image’s layout is changed 
automatically from “presentation source” to a “color attachment optimal”
 layout.</p><p>Now we bind a graphics pipeline. This is done by calling the <strong>vkCmdBindPipeline()</strong> function. This “activates” all shader programs (similar to the <strong>glUseProgram()</strong> function) and sets desired tests, blending operations, and so on.</p><p>After the pipeline is bound, we can finally draw something by calling the <strong>vkCmdDraw()</strong>
 function. In this function we specify the number of vertices we want to
 draw (three), number of instances that should be drawn (just one), and a
 numbers or indices of a first vertex and first instance (both zero).</p><p>Next the <strong>vkCmdEndRenderPass()</strong>
 function is called which, as the name suggests, ends the given render 
pass. Here all final layout transitions occur if the final layout 
specified for a render pass is different from the layout used in the 
last subpass the given image was referenced in.</p><p>After that, the 
barrier may be set in which we tell the driver that the graphics queue 
finished using a given image and from now on the present queue will be 
using it. This is done, once again, only when the graphics and present 
queues are different. And after the barrier, we stop recording a command
 buffer for a given image. All these operations are repeated for each 
swap chain image.</p><h2>Drawing<a class="inpage-nav-anchor" id="inpage-nav-7"></a></h2><p>The drawing function is the same as the <strong>Draw()</strong>
 function presented in Tutorial 2. We acquire the image’s index, submit a
 proper command buffer, and present an image. We are using semaphores 
the same way they were used previously: one semaphore is used for 
acquiring an image and it tells the graphics queue to wait when the 
image is not yet available for use. The second command buffer is used to
 indicate whether drawing on a graphics queue is finished. The present 
queue waits on this semaphore before it can present an image. Here is 
the source code of a <strong>Draw()</strong> function:</p><div id="highlighter_385554" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">VkSemaphore image_available_semaphore = GetImageAvailableSemaphore();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">VkSemaphore rendering_finished_semaphore = GetRenderingFinishedSemaphore();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">VkSwapchainKHR swap_chain = GetSwapChain().Handle;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">uint32_t image_index;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">VkResult
 result = vkAcquireNextImageKHR( GetDevice(), swap_chain, UINT64_MAX, 
image_available_semaphore, VK_NULL_HANDLE, &amp;image_index );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="keyword">switch</code><code class="plain">( result ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">VK_SUCCESS:</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">VK_SUBOPTIMAL_KHR:</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">VK_ERROR_OUT_OF_DATE_KHR:</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">OnWindowSizeChanged();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">default</code><code class="plain">:</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">printf( </code><code class="string">"Problem occurred during swap chain image acquisition!\n"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="plain">VkPipelineStageFlags wait_dst_stage_mask = VK_PIPELINE_STAGE_TRANSFER_BIT;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="plain">VkSubmitInfo submit_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_SUBMIT_INFO,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 waitSemaphoreCount</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;image_available_semaphore,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkSemaphore&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pWaitSemaphores</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;wait_dst_stage_mask,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkPipelineStageFlags&nbsp; *pWaitDstStageMask;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 commandBufferCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;Vulkan.GraphicsCommandBuffers[image_index],&nbsp; </code><code class="comments">// const VkCommandBuffer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pCommandBuffers</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 signalSemaphoreCount</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;rendering_finished_semaphore&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkSemaphore&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pSignalSemaphores</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="keyword">if</code><code class="plain">( vkQueueSubmit( GetGraphicsQueue().Handle, 1, &amp;submit_info, VK_NULL_HANDLE ) != VK_SUCCESS ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content"><code class="plain">VkPresentInfoKHR present_info = {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">VK_STRUCTURE_TYPE_PRESENT_INFO_KHR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// VkStructureType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sType</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>37</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pNext</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>38</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 waitSemaphoreCount</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>39</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;rendering_finished_semaphore,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments">// const VkSemaphore&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pWaitSemaphores</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>40</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 swapchainCount</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>41</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;swap_chain,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const VkSwapchainKHR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pSwapchains</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>42</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&amp;image_index,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// const uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *pImageIndices</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>43</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">nullptr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="comments">// 
VkResult&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 *pResults</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>44</code></td><td class="content"><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>45</code></td><td class="content"><code class="plain">result = vkQueuePresentKHR( GetPresentQueue().Handle, &amp;present_info );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>46</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>47</code></td><td class="content"><code class="keyword">switch</code><code class="plain">( result ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>48</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">VK_SUCCESS:</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>49</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">break</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>50</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">VK_ERROR_OUT_OF_DATE_KHR:</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>51</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">case</code> <code class="plain">VK_SUBOPTIMAL_KHR:</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>52</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">OnWindowSizeChanged();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>53</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">default</code><code class="plain">:</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>54</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">printf( </code><code class="string">"Problem occurred during image presentation!\n"</code> <code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>55</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>56</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>57</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>58</code></td><td class="content"><code class="keyword">return</code> <code class="keyword">true</code><code class="plain">;</code></td></tr></tbody></table></div></div></div><p><strong>24.</strong><em>Tutorial03.cpp, function Draw()</em></p><h2>Tutorial 3 Execution<a class="inpage-nav-anchor" id="inpage-nav-8"></a></h2><p>In
 this tutorial we performed “real” drawing operations. A simple triangle
 may not sound too convincing, but it is a good starting point for a 
first Vulkan-created image. Here is what the triangle should look like:</p><p align="center"><img alt="" src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/api-vulkan-part-3-result.jpg"></p><p>If
 you’re wondering why there are black parts in the image, here is an 
explanation: To simplify the whole code, we created a framebuffer with a
 fixed size (width and height of 300 pixels). But the window’s size (and
 the size of the swap chain images) may be greater than these 300 x 300 
pixels. The parts of an image that lay outside of the framebuffer’s 
dimensions are uncleared and unmodified by our application. They may 
even contain some “artifacts,” because the memory from which the driver 
allocates the swap chain images may have been previously used for other 
purposes and could contain some data. The correct behavior is to create a
 framebuffer with the same size as the swap chain images and to recreate
 it when the window’s size changes. But as long as the blue triangle is 
rendered on an orange/gold background, it means that the code works 
correctly.</p><h2>Cleaning Up<a class="inpage-nav-anchor" id="inpage-nav-9"></a></h2><p>One
 last thing to learn before this tutorial ends is how to release 
resources created during this lesson. I won’t repeat the code needed to 
release resources created in the previous chapter. Just look at the 
VulkanCommon.cpp file. Here is the code needed to destroy resources 
specific to this chapter:</p><div id="highlighter_247595" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3#copyToClipboard" title="Copy Code" style="width: 16px; height: 16px;" class="item copyToClipboard">Copy Code</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">if</code><code class="plain">( GetDevice() != VK_NULL_HANDLE ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">vkDeviceWaitIdle( GetDevice() );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">( (Vulkan.GraphicsCommandBuffers.size() &gt; 0) &amp;&amp; (Vulkan.GraphicsCommandBuffers[0] != VK_NULL_HANDLE) ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">vkFreeCommandBuffers( GetDevice(),
 Vulkan.GraphicsCommandPool, 
static_cast&lt;uint32_t&gt;(Vulkan.GraphicsCommandBuffers.size()), 
&amp;Vulkan.GraphicsCommandBuffers[0] );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Vulkan.GraphicsCommandBuffers.clear();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">( Vulkan.GraphicsCommandPool != VK_NULL_HANDLE ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">vkDestroyCommandPool( GetDevice(), Vulkan.GraphicsCommandPool, nullptr );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Vulkan.GraphicsCommandPool = VK_NULL_HANDLE;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">( Vulkan.GraphicsPipeline != VK_NULL_HANDLE ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">vkDestroyPipeline( GetDevice(), Vulkan.GraphicsPipeline, nullptr );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Vulkan.GraphicsPipeline = VK_NULL_HANDLE;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">( Vulkan.RenderPass != VK_NULL_HANDLE ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">vkDestroyRenderPass( GetDevice(), Vulkan.RenderPass, nullptr );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Vulkan.RenderPass = VK_NULL_HANDLE;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">for</code><code class="plain">( size_t i = 0; i &lt; Vulkan.FramebufferObjects.size(); ++i ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">( Vulkan.FramebufferObjects[i].Handle != VK_NULL_HANDLE ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">vkDestroyFramebuffer( GetDevice(), Vulkan.FramebufferObjects[i].Handle, nullptr );</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Vulkan.FramebufferObjects[i].Handle = VK_NULL_HANDLE;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code class="plain">( Vulkan.FramebufferObjects[i].ImageView != VK_NULL_HANDLE ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">vkDestroyImageView( GetDevice(), Vulkan.FramebufferObjects[i].ImageView, nullptr );</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Vulkan.FramebufferObjects[i].ImageView = VK_NULL_HANDLE;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">Vulkan.FramebufferObjects.clear();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p><strong>25.</strong><em>Tutorial03.cpp, function ChildClear()</em></p><p>As
 usual we first check whether there is any device. If we don’t have a 
device, we don’t have a resource. Next we wait until the device is free 
and we delete all the created resources. We start from deleting command 
buffers by calling a <strong>vkFreeCommandBuffers()</strong> function. Next we destroy a command pool through a <strong>vkDestroyCommandPool()</strong> function and after that the graphics pipeline is destroyed. This is achieved through a <strong>vkDestroyPipeline()</strong> function call. Next we call a <strong>vkDestroyRenderPass()</strong>
 function, which releases the handle to a render pass. Finally, all 
framebuffers and image views associated with each swap chain image are 
deleted.</p><p>Each object destruction is preceded by a check whether a 
given resource was properly created. If not we skip the process of 
destruction of such resource.</p><h2>Conclusion<a class="inpage-nav-anchor" id="inpage-nav-10"></a></h2><p>In
 this tutorial, we created a render pass with one subpass. Next we 
created image views and framebuffers for each swap chain image. One of 
the most difficult parts was to create a graphics pipeline, because it 
required us to prepare lots of data. We had to create shader modules and
 describe all the shader stages that should be active when a given 
graphics pipeline is bound. We had to prepare information about input 
vertices, their layout, and assembling them into polygons. Viewport, 
rasterization, multisampling, and color blending information was also 
necessary. Then we created a simple pipeline layout and after that we 
could create the pipeline itself. Next we created a command pool and 
allocated command buffers for each swap chain image. Operations recorded
 in each command buffer involved setting up an image memory barrier, 
beginning a render pass, binding a graphics pipeline, and drawing. Next 
we ended a render pass and set up another image memory barrier. The 
drawing itself was performed the same way as in the previous tutorial 
(2).</p><p>In the next tutorial, we will learn about the vertex attributes, images and buffers.</p><p><strong>Next up: <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-4">API without Secrets: Introduction to Vulkan* Part 4: Vertex Attributes</a></strong></p><p>This sample source code is released under the <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/intel-sample-source-code-license-agreement/">Intel Sample Source Code License Agreement</a>.</p>
</div></div><div class="field field-name-field-protected-attachments field-type-file field-label-hidden"><div class="field-items"></div></div><div class="optimization-notice">
  For more complete information about compiler optimizations, see our <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/optimization-notice#opt-en">Optimization Notice</a>.</div></div>
    
</article>

<div class="comments-wrapper notranslate">
  <section id="comments" class="comments comment-wrapper">

              <div class="title-wrapper clearfix">

        <h2 class="comments__title title">17 comments</h2>
        <a href="#" class="to-top"><span class="icon-caret-up">Top</span></a>
                  <div class="comment-subscribe">
                      </div>
              </div>
        
    <a id="comment-1880692"></a>
<article class="comment first odd clearfix" about="/en-us/comment/1880692#comment-1880692" typeof="sioc:Post sioct:Comment">
  <header>
    <p class="submitted ctHidden" data-hj-masked="">
      <span property="dc:date dc:created" content="2016-08-09T10:33:38-07:00" datatype="xsd:dateTime" rel="sioc:has_creator"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1457537">Vlad S.</a> said on Aug 9,2016</span>    </p>

            
      </header>

  <div class="comment-content-wrapper">
              <span class="user-picture-icon">
      <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1457537"><span data-icon=""></span></a></span>
    
    <div class="comment-content">
      <span rel="sioc:reply_of" resource="/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="rdf-meta element-hidden"></span><div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>@<a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1462382">Tim H</a>. pǝddıןɟ sı sıxɐ-ʎ ǝɥʇ ǝsnɐɔǝq 'ǝsıʍʞɔoןɔ-ɹǝʇunoɔ uı ǝɹɐ ʎǝɥʇ</p>
</div></div></div>      <div class="comment-contextual-links">
                <span class="icon-edit"></span>
        <ul class="links inline"><li class="comment_forbidden first last"><span><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695%23comment-form">Log in</a> to post comments</span></li>
</ul>              </div>
    </div>

  </div>

</article>
<a id="comment-1880591"></a>
<article class="comment even clearfix" about="/en-us/comment/1880591#comment-1880591" typeof="sioc:Post sioct:Comment">
  <header>
    <p class="submitted ctHidden" data-hj-masked="">
      <span property="dc:date dc:created" content="2016-08-08T23:28:32-07:00" datatype="xsd:dateTime" rel="sioc:has_creator"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1462382">Tim H.</a> said on Aug 8,2016</span>    </p>

            
      </header>

  <div class="comment-content-wrapper">
              <span class="user-picture-icon">
      <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1462382"><span data-icon=""></span></a></span>
    
    <div class="comment-content">
      <span rel="sioc:reply_of" resource="/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="rdf-meta element-hidden"></span><div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>In the glsl code, you privide vertices in clockwise order.</p>
<p>However, you tell vulkan to treat counter-clokwise order as front face and enable back face culling.</p>
<p>I follow your code, I can still see the triangle... what's going on!?</p>
<p>&nbsp;</p>
<p>-------------------------------------------</p>
<p>Update:</p>
<p>I go to see the vulkan spec.</p>
<p>The formula to calculate area has sign different from OpenGL and the one we usually use....</p>
<p>Actually&nbsp;VK_FRONT_FACE_COUNTER_CLOCKWISE does not mean that 
vertices declared in counter clockwise will be considered front face.</p>
<p>Why don't they change macro name to VK_FRONT_FACE_POSTIVE_AREA and VK_FRONT_FACE_NEGATIVE_AREA</p>
</div></div></div>      <div class="comment-contextual-links">
                <span class="icon-edit"></span>
        <ul class="links inline"><li class="comment_forbidden first last"><span><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695%23comment-form">Log in</a> to post comments</span></li>
</ul>              </div>
    </div>

  </div>

</article>
<a id="comment-1880561"></a>
<article class="comment odd clearfix" about="/en-us/comment/1880561#comment-1880561" typeof="sioc:Post sioct:Comment">
  <header>
    <p class="submitted ctHidden" data-hj-masked="">
      <span property="dc:date dc:created" content="2016-08-10T15:15:05-07:00" datatype="xsd:dateTime" rel="sioc:has_creator"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1457537">Vlad S.</a> said on Aug 10,2016</span>    </p>

            
      </header>

  <div class="comment-content-wrapper">
              <span class="user-picture-icon">
      <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1457537"><span data-icon=""></span></a></span>
    
    <div class="comment-content">
      <span rel="sioc:reply_of" resource="/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="rdf-meta element-hidden"></span><div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>In
 case if anyone wants to use CMake to generate SPIR-V from GLSL as part 
of build process here's a little snippet that does that:&nbsp;</p>
<p><a href="https://web.archive.org/web/20200503051337/https://gist.github.com/vlsh/a0d191701cb48f157b05be7f74d79396" rel="nofollow">https://gist.github.com/vlsh/a0d191701cb48f157b05be7f74d79396</a></p>
<p>It takes all shaders from "shaders/" directory in your project, 
compiles them into SPIR-V and puts those under "shaders" in current 
build directory(where CMake was invoked from). All shaders are grouped 
under Shaders target, which should be added as dependency to your main 
project, finally there's a post build command to copy compiled shaders 
into the directory with executable.</p>
</div></div></div>      <div class="comment-contextual-links">
                <span class="icon-edit"></span>
        <ul class="links inline"><li class="comment_forbidden first last"><span><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695%23comment-form">Log in</a> to post comments</span></li>
</ul>              </div>
    </div>

  </div>

</article>
<a id="comment-1877471"></a>
<article class="comment comment-by-node-author even clearfix" about="/en-us/comment/1877471#comment-1877471" typeof="sioc:Post sioct:Comment">
  <header>
    <p class="submitted ctHidden" data-hj-masked="">
      <span property="dc:date dc:created" content="2016-07-07T04:41:45-07:00" datatype="xsd:dateTime" rel="sioc:has_creator"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1183993">Pawel L.</a> said on Jul 7,2016</span>    </p>

            
      </header>

  <div class="comment-content-wrapper">
              <span class="user-picture">
      <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1183993" title="View user profile.">
        <img typeof="foaf:Image" src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/3379051040466063749361857718207o.jpg" alt="plapins's picture" title="plapins's picture">
      </a>
    </span>
    
    <div class="comment-content">
      <span rel="sioc:reply_of" resource="/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="rdf-meta element-hidden"></span><div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>@<a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1441605">Harsh A.</a></p>
<p>Thanks! Part 4th will be available soon. It is ready and just waiting for internal review, so it can be published on IDZ.</p>
</div></div></div>      <div class="comment-contextual-links">
                <span class="icon-edit"></span>
        <ul class="links inline"><li class="comment_forbidden first last"><span><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695%23comment-form">Log in</a> to post comments</span></li>
</ul>              </div>
    </div>

  </div>

</article>
<a id="comment-1877470"></a>
<article class="comment odd clearfix" about="/en-us/comment/1877470#comment-1877470" typeof="sioc:Post sioct:Comment">
  <header>
    <p class="submitted ctHidden" data-hj-masked="">
      <span property="dc:date dc:created" content="2016-07-07T04:37:57-07:00" datatype="xsd:dateTime" rel="sioc:has_creator"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1441605">Harsh A.</a> said on Jul 7,2016</span>    </p>

            
      </header>

  <div class="comment-content-wrapper">
              <span class="user-picture-icon">
      <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1441605"><span data-icon=""></span></a></span>
    
    <div class="comment-content">
      <span rel="sioc:reply_of" resource="/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="rdf-meta element-hidden"></span><div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>Thanks for such well written introduction to vulkan.<br>Waiting for next parts (part 4 onwards)</p>
</div></div></div>      <div class="comment-contextual-links">
                <span class="icon-edit"></span>
        <ul class="links inline"><li class="comment_forbidden first last"><span><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695%23comment-form">Log in</a> to post comments</span></li>
</ul>              </div>
    </div>

  </div>

</article>
<a id="comment-1877449"></a>
<article class="comment comment-by-node-author even clearfix" about="/en-us/comment/1877449#comment-1877449" typeof="sioc:Post sioct:Comment">
  <header>
    <p class="submitted ctHidden" data-hj-masked="">
      <span property="dc:date dc:created" content="2016-07-06T23:28:37-07:00" datatype="xsd:dateTime" rel="sioc:has_creator"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1183993">Pawel L.</a> said on Jul 6,2016</span>    </p>

            
      </header>

  <div class="comment-content-wrapper">
              <span class="user-picture">
      <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1183993" title="View user profile.">
        <img typeof="foaf:Image" src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/3379051040466063749361857718207o.jpg" alt="plapins's picture" title="plapins's picture">
      </a>
    </span>
    
    <div class="comment-content">
      <span rel="sioc:reply_of" resource="/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="rdf-meta element-hidden"></span><div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>@<a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1439367">Jeff Q.</a></p>
<p>Thanks for these questions regarding swapchain images and 
simultaneous command buffer use. I must say they are not easy ones, but 
at least I also have the opportunity to try and understand it more 
deeply. ;-)</p>
<p>We have one command buffer which renders a scene into a swapchain 
image. But the command buffer isn't connect in any other way with this 
image. We submit this command buffer to queue and acquire next image, 
submit another command buffer and acquire another image. But this next 
acquired image may the same as i.e. the first image. We have 
successfully acquired it from presentation engine, but that doesn't 
actually mean that graphics card finished processing command buffer 
which was rendering into this image. In some of the swapchain present 
modes, it may be possible to acquire an image before even any operations
 started rendering into it. Without using fences, You can't be sure. And
 when You are not sure, You can't submit the same command buffer. And 
that's why Validation Layers are complaining.</p>
<p>And as for the second warning You get from the Validation Layers - 
the one about initial image layout. As far as I know, this is a bug in 
Validation Layers, as they incorrectly track images created by a 
presentation engine (swapchain images). Normally, when You create an 
image, You must create it with "undefined" or "preinitialized" layout. 
But whichever layout it has, You must transition away from this layout 
before You can use this image for any purpose. But this is not the case 
with swapchain images, as they are created and managed by the 
presentation engine, and when we acquire any of its images they have 
"present src" layout.</p>
<p>One simple workaround for this is to set "undefined" initial layout 
in an image memory barrier or render pass. Whatever layout given image 
has, we can always transition to another layout by specifying 
"undefined" initial layout - but in this case we can't rely on the image
 contents as they may be disregarded.</p>
<p>I hope I have clarified at least some of Your concerns :-).</p>
</div></div></div>      <div class="comment-contextual-links">
                <span class="icon-edit"></span>
        <ul class="links inline"><li class="comment_forbidden first last"><span><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695%23comment-form">Log in</a> to post comments</span></li>
</ul>              </div>
    </div>

  </div>

</article>
<a id="comment-1877447"></a>
<article class="comment odd clearfix" about="/en-us/comment/1877447#comment-1877447" typeof="sioc:Post sioct:Comment">
  <header>
    <p class="submitted ctHidden" data-hj-masked="">
      <span property="dc:date dc:created" content="2016-07-06T22:40:52-07:00" datatype="xsd:dateTime" rel="sioc:has_creator"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1439367">Jeff Q.</a> said on Jul 6,2016</span>    </p>

            
      </header>

  <div class="comment-content-wrapper">
              <span class="user-picture-icon">
      <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1439367"><span data-icon=""></span></a></span>
    
    <div class="comment-content">
      <span rel="sioc:reply_of" resource="/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="rdf-meta element-hidden"></span><div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>I
 don't really understand that... &nbsp;it seems to me that if each swap 
chain image has its own command buffer, then you probably shouldn't be 
able to use any command buffer multiple times simultaneously, regardless
 of the order in which images are acquired. &nbsp;But it is not very 
important to me to understand this point right now.</p>
<p>At any rate, the actual Vulkan software is backing you up, in my 
usage of it. &nbsp;When I run with the standard set of validation layers
 activated (very helpful!) I get an error report when I try to run 
without that simultaneous use flag on. &nbsp;It does seem to be 
required!</p>
<p>Incidentally, I also get a complaint from the validation layers about
 VkAttachmentDescription::initialLayout, which in this tutorial is set 
to&nbsp;VK_IMAGE_LAYOUT_PRESENT_SRC_KHR. &nbsp;Evidently the image being
 described cannot be relied on to actually start in that format, and so 
initialLayout is supposed to be&nbsp;VK_IMAGE_LAYOUT_UNDEFINED. &nbsp;Or
 at least, that seems to be what the validation layer is pushing me 
toward. &nbsp;The program works for me either way, though.</p>
</div></div></div>      <div class="comment-contextual-links">
                <span class="icon-edit"></span>
        <ul class="links inline"><li class="comment_forbidden first last"><span><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695%23comment-form">Log in</a> to post comments</span></li>
</ul>              </div>
    </div>

  </div>

</article>
<a id="comment-1877188"></a>
<article class="comment comment-by-node-author even clearfix" about="/en-us/comment/1877188#comment-1877188" typeof="sioc:Post sioct:Comment">
  <header>
    <p class="submitted ctHidden" data-hj-masked="">
      <span property="dc:date dc:created" content="2016-07-04T01:20:09-07:00" datatype="xsd:dateTime" rel="sioc:has_creator"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1183993">Pawel L.</a> said on Jul 4,2016</span>    </p>

            
      </header>

  <div class="comment-content-wrapper">
              <span class="user-picture">
      <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1183993" title="View user profile.">
        <img typeof="foaf:Image" src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/3379051040466063749361857718207o.jpg" alt="plapins's picture" title="plapins's picture">
      </a>
    </span>
    
    <div class="comment-content">
      <span rel="sioc:reply_of" resource="/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="rdf-meta element-hidden"></span><div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>@<a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1439367" title="View user profile.">Jeff Q.</a></p>
<p>I didn't mention anything about them as I wanted to focus only on the
 important (for this tutorial) parts. And the tutorial is long enough.</p>
<p>When we are not using&nbsp;<span>"</span><span>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</span><span>"
 flag we can't resubmit or record the same command buffer until its 
execution on a queue is finished. In this example there is a separate 
command buffer for each swapchain image but I'm not checking if 
execution of a given command buffer (that was submitted previously for 
the same image) is already finished. It can be done by using fences. So 
the "simultaneous use" flag is used just in case, to be sure everything 
is proper.</span></p>
<p><span>Of course, we are waiting on a vkAcquireNextImage() function 
which blocks application execution until image is available. One 
swapchain image won't be available until next image is presented. And 
this next image is presented only when a queue already processed command
 buffer associated with it. But if second command buffer is processed by
 the queue, this means that the execution of a command buffer associated
 with the first image must also have had finished. So You are right that
 the "simultaneous use" flag may not be necessary here. But, as I have 
told, I've added it so the code is concordant with the specification (as
 I don't use fences here).</span></p>
<p><span>One simple rule is that - when You are not sure if a command 
buffer execution is done (if a queue already finished processing 
submitted command buffer), You should use "simultaneous use" flag. Or 
You can't resubmit, reset, re-record or destroy given command buffer.</span></p>
<p><span>--- EDIT ---</span></p>
<p><span>Oh, I've totally forgotten about one very important thing! 
Behavior describe above is valid ONLY when we are using FIFO present 
mode - each image is presented one after another in the same order. But 
when IMMEDIATE or MAILBOX modes are used, images may be presented in 
different order, i.e. in MAILBOX mode we "switch" between several "back 
buffer" images until one of the is exchanged with an image being 
displayed. So in this situation, we can't be sure that processing of a 
given command buffer is finished. We need to use fences or we need to 
set "simultaneous use" flag.</span></p>
</div></div></div>      <div class="comment-contextual-links">
                <span class="icon-edit"></span>
        <ul class="links inline"><li class="comment_forbidden first last"><span><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695%23comment-form">Log in</a> to post comments</span></li>
</ul>              </div>
    </div>

  </div>

</article>
<a id="comment-1877183"></a>
<article class="comment odd clearfix" about="/en-us/comment/1877183#comment-1877183" typeof="sioc:Post sioct:Comment">
  <header>
    <p class="submitted ctHidden" data-hj-masked="">
      <span property="dc:date dc:created" content="2016-07-03T17:26:38-07:00" datatype="xsd:dateTime" rel="sioc:has_creator"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1439367">Jeff Q.</a> said on Jul 3,2016</span>    </p>

            
      </header>

  <div class="comment-content-wrapper">
              <span class="user-picture-icon">
      <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1439367"><span data-icon=""></span></a></span>
    
    <div class="comment-content">
      <span rel="sioc:reply_of" resource="/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="rdf-meta element-hidden"></span><div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>Why is&nbsp;<span>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT
 used here? &nbsp;The per-image command buffers are not being used 
multiple times at once, are they? &nbsp;I mean, buffers for multiple 
images may be used simultaneously I guess? &nbsp;But since each image 
has its own buffer, that shouldn't produce simultaneous use of any 
single buffer. &nbsp;Is that right, or am I missing something?</span></p>
</div></div></div>      <div class="comment-contextual-links">
                <span class="icon-edit"></span>
        <ul class="links inline"><li class="comment_forbidden first last"><span><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695%23comment-form">Log in</a> to post comments</span></li>
</ul>              </div>
    </div>

  </div>

</article>
<a id="comment-1874279"></a>
<article class="comment comment-by-node-author even clearfix" about="/en-us/comment/1874279#comment-1874279" typeof="sioc:Post sioct:Comment">
  <header>
    <p class="submitted ctHidden" data-hj-masked="">
      <span property="dc:date dc:created" content="2016-06-06T03:57:30-07:00" datatype="xsd:dateTime" rel="sioc:has_creator"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1183993">Pawel L.</a> said on Jun 6,2016</span>    </p>

            
      </header>

  <div class="comment-content-wrapper">
              <span class="user-picture">
      <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1183993" title="View user profile.">
        <img typeof="foaf:Image" src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/3379051040466063749361857718207o.jpg" alt="plapins's picture" title="plapins's picture">
      </a>
    </span>
    
    <div class="comment-content">
      <span rel="sioc:reply_of" resource="/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="rdf-meta element-hidden"></span><div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>@<a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/1416033">Patrick P.</a></p>
<p>Thanks You for Your&nbsp;appreciation :-).</p>
<p>Regarding framebuffers in Vulkan. The code You can see now in 
Tutorial 04 is (almost?) final and I don't expect it will change much 
(maybe some minor fixes if I find anything). I've heard that 
framebuffers are lightweight and creating them every frame is quite 
popular among game/engine developers. But I will confirm that and get 
back to You.</p>
<p>In my case I came to the present solution by iteratively modifying 
source code of lessons 03 and 04. In Tutorial 03 I wanted to show that 
we can pre-create resources and reuse as much of them as possible to 
speed up rendering. But this requires us to recreate almost all of the 
resources when something has changed considerably, especially in case of
 a swapchain. It may not be too common (like in games - resolution 
almost never changes), but with Vulkan we need to be prepared for every 
scenario.</p>
<p>That's why in Tutorial 04 I've changed my approach and instead of 
keeping all resources together and creating them once, I recreate some 
of them each frame. This approach of course has some overhead (we need 
to create additional resources before each frame, like the mentioned 
framebuffer) but it considerably simplifies the code maintenance as we 
don't need to keep track of each resource and remember which groups of 
resources we need to recreate when there is a need.</p>
<p>If we can, we should prepare resources as early as we can. But in 
this example situation is very simple and in real-life scenarios we 
won't be rendering to just i.e. three swapchain images. We will have 
intermediate render targets, some postprocessing will be done with 
textures that have lower resolutions. Storing framebuffers for each such
 texture/image/render target may be hard - small modification in a 
rendering algorithm may require us to modify source code of our 
application in&nbsp;multiple places. And don't forget that in Vulkan 
small error may cause that nothing will be rendered at all. It will be 
very hard to debug such problems.</p>
<p>So the approach I present in Tutorial 04 is just a reasonable 
compromise between memory usage, performance and easy maintenance of 
code.</p>
<p>I hope I clarified the situation as much as I could ;-).</p>
</div></div></div>      <div class="comment-contextual-links">
                <span class="icon-edit"></span>
        <ul class="links inline"><li class="comment_forbidden first last"><span><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?destination=node/623695%23comment-form">Log in</a> to post comments</span></li>
</ul>              </div>
    </div>

  </div>

</article>
<h2 class="element-invisible">Pages</h2><div class="item-list"><ul class="pager"><li class="pager-current first">1</li>
<li class="pager-next last"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3?page=1">Next ›</a></li>
</ul></div>
    <div class="comment-form-wrapper">
      <h2 class="comments__form-title title comment-form">Add a Comment</h2>
              <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/user/login?language=en-us&amp;destination=node/623695&amp;https=1" class="sign-in">Sign in</a>            <p class="tech-support">Have a technical question? <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/forum">Visit our forums</a>. <span>Have site or software product issues? <a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/contact">Contact support</a>.<span></span></span></p>
          </div>

  </section>
</div>
                <div id="action-secondary-tabs">
                  </div>

      </div>

      
      
    </div>
  </div>

    <nav class="page-top-second-footer">
      <div class="page-top-second-footer-inner clearfix notranslate" id="navfooter" data-wap_type="navfooter"><div id="block-idz-zero-idz-zero-share-widget-block-clone" class="block block-idz-zero first last odd cloned-share-widget">

      
  <div class="show_all_widget notranslate">
  <div class="item-list"><ul id="wap-social" data-wap_type="socialshare"><li class="facebook first"><a href="https://web.archive.org/web/20200503051337/https://www.facebook.com/sharer/sharer.php?u=https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="icon-logo-facebook" target="_blank" data-wap_ref="facebook">Share</a></li>
<li class="twitter"><a href="https://web.archive.org/web/20200503051337/https://twitter.com/intent/tweet?text=API+without+Secrets%3A+Introduction+to+Vulkan%2A+Part+3%3A+First+Triangle%3A&amp;url=https%3A%2F%2Fsoftware.intel.com%2Fen-us%2Farticles%2Fapi-without-secrets-introduction-to-vulkan-part-3&amp;hashtags=IntelSoftware" class="icon-logo-twitter-bird" target="_blank" data-wap_ref="twitter" data-hashtags="IntelSoftware" data-text="API without Secrets: Introduction to Vulkan* Part 3: First Triangle:" data-url="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3">Tweet</a></li>
<li class="google"><a href="https://web.archive.org/web/20200503051337/https://plus.google.com/share?url=https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="icon-logo-gplus" target="_blank" data-wap_ref="twitter">Share</a></li>
<li class="send last"><a href="https://web.archive.org/web/20200503051337/mailto:/?subject=API%20without%20Secrets:%20Introduction%20to%20Vulkan*%20Part%203:%20First%20Triangle&amp;body=https://software.intel.com/en-us/articles/api-without-secrets-introduction-to-vulkan-part-3" class="icon-email" target="_self" data-wap_ref="send">Send</a></li>
</ul></div></div>
<div class="showsharewidget notranslate">
  <span class="share_label icon-zz_000005_share">
    Share  </span>
</div>


</div>
        <ul class="menu js-processed"><li class="menu__item is-expanded first expanded footer-columns-3" style="height: 163px;"><a class="menu__link">Connect</a><ul class="menu js-processed"><li class="menu__item is-leaf first leaf"><a href="https://web.archive.org/web/20200503051337/https://software.seek.intel.com/gamedevnewsLP" target="_blank" class="menu__link">Join the Intel® GameDev Program</a></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://devmesh.intel.com/" target="_blank" class="menu__link">Collaborate on Developer Mesh</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://web.archive.org/web/20200503051337/https://twitch.tv/IntelGameDev" target="_blank" class="menu__link">IntelGameDev on Twitch.tv</a></li>
</ul></li>
<li class="menu__item is-expanded expanded footer-columns-3" style="height: 163px;"><a class="menu__link">Game Dev Resources</a><ul class="menu js-processed"><li class="menu__item is-leaf first leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/join" class="menu__link">About Our Program</a></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/gamedev/documentation" class="menu__link menu-node-unpublished menu-node-unpublished menu-node-unpublished menu-node-unpublished">Library</a></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/forums/developing-games-and-graphics-on-intel" class="menu__link">Forum</a></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/articles/intel-graphics-developers-guides" class="menu__link">Graphics Guides</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://web.archive.org/web/20200503051337/https://downloadcenter.intel.com/default.aspx" target="_blank" class="menu__link">Graphics Drivers</a></li>
</ul></li>
<li class="menu__item is-expanded last expanded footer-columns-3" style="height: 163px;"><a class="menu__link">Intel Gaming</a><ul class="menu js-processed"><li class="menu__item is-leaf first leaf"><a href="https://web.archive.org/web/20200503051337/https://gameplay.intel.com/?=intelgamedev" target="_blank" class="menu__link">Gameplay.Intel.com</a></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://www.intel.com/content/www/us/en/gaming/gaming-systems.html" target="_blank" class="menu__link">Intel® Gaming Site</a></li>
<li class="menu__item is-leaf leaf"><a href="https://web.archive.org/web/20200503051337/https://www.intel.com/content/www/us/en/gaming/esports.html" target="_blank" class="menu__link">eSports</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://web.archive.org/web/20200503051337/https://twitter.com/IntelGaming" target="_blank" class="menu__link">Intel Gaming on Twitter</a></li>
</ul></li>
</ul>      </div>
    </nav>
  
<div class="page-footer notranslate">
  <div id="idz-rateus">
  <div id="survey_container">
    <div id="survey_button">
      <div class="rate-star">
        <span class="rate-txt">Rate Us </span>
        <span class="icon-star-empty"></span><span class="icon-star-empty"></span><span class="icon-star-empty"></span>
      </div>
    </div>
    <div class="survey_iframe_container">
      <div id="survey_frame">
        <div class="scrollable">
          <iframe id="iframe_survey" width="100%" height="100%" frameborder="0" data-src="https://idz.qualtrics.com/SE/?SID=SV_eai43JosW74IFxz" data-ruffle-polyfilled=""></iframe>
        </div>
      </div>
      <div id="close_button">
        <div id="close_survey">
          <img src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/bwc_close.png">
        </div>
      </div>
      <div id="open_survey">
        <div class="survey_up">
        </div>
      </div>
    </div>
  </div>
</div>
  <div id="block-bean-homepage-newsletter-subscribe" class="block block-bean first odd" data-wap_type="navfooter" style="margin-left: 148px;">
  <div class="entity entity-bean bean-idz-newsletter-subscribe view-mode-default clearfix" about="/en-us/block/homepage-newsletter-subscribe" typeof="">
    <div class="content">
      <div class="field field-name-field-subscribed-action-text field-type-text field-label-hidden">
        <div class="field-items">
          <div class="field-item even "><a href="https://web.archive.org/web/20200503051337/https://software.intel.com/en-us/newsletter/subscribe">Get the Newsletter</a></div>
        </div>
      </div>
    </div>
  </div>
</div>
  <div id="block-idz-responsive-blocks-idz-responsive-superfooter" class="block block-idz-responsive-blocks even" data-wap_type="socialreferral">
  <footer class="l-language-footer">
    <div class="limiter">
      <section class="look-for-intel">
        <span id="look-for-intel-expander"></span>
        <span class="blurb">Follow us:</span>

        <div class="item-list notranslate">
          <div class="item-list"><ul><li class="facebook first"><a href="https://web.archive.org/web/20200503051337/http://facebook.com/inteldeveloperzone" target="_blank" class="icon-logo-facebook">Facebook</a></li>
<li class="twitter-bird"><a href="https://web.archive.org/web/20200503051337/http://twitter.com/intelsoftware" target="_blank" class="icon-logo-twitter-bird">Twitter</a></li>
<li class="github"><a href="https://web.archive.org/web/20200503051337/https://github.com/IntelSoftware" target="_blank" class="icon-zz_000003_githuboctokitty">Github</a></li>
<li class="twitch"><a href="https://web.archive.org/web/20200503051337/https://twitch.tv/IntelGameDev" target="_blank" class="icon-zz_000003_twitch">Twitch</a></li>
<li class="youtube last"><a href="https://web.archive.org/web/20200503051337/https://www.youtube.com/user/intelswnetwork" target="_blank" class="icon-logo-youtube">YouTube</a></li>
</ul></div>        </div>
      </section>
    </div>
  </footer>
</div>
  <div id="block-idz-responsive-blocks-idz-responsive-legal-footer" class="block block-idz-responsive-blocks last odd" data-wap_type="navfooter">

  <footer class="l-legal-footer">
    <nav class="menu">
      <ul>
                <li>
          <a href="https://web.archive.org/web/20200503051337/http://www.intel.com/">© Intel Corporation</a>        </li>
        <li>
          <a href="https://web.archive.org/web/20200503051337/http://www.intel.com/content/www/us/en/legal/terms-of-use.html">Terms of Use</a>        </li>
        <li>
          <a href="https://web.archive.org/web/20200503051337/http://www.intel.com/content/www/us/en/legal/trademarks.html">*Trademarks</a>        </li>
        <li>
          <a href="https://web.archive.org/web/20200503051337/https://www.intel.com/content/www/us/en/privacy/intel-privacy-notice.html">Privacy</a>        </li>
        <li>
          <a href="https://web.archive.org/web/20200503051337/http://www.intel.com/content/www/us/en/privacy/intel-cookie-notice.html">Cookies</a>        </li>
        <li>
          <a href="https://web.archive.org/web/20200503051337/https://www.intel.com/content/www/us/en/my-intel/subscription-center.html#/communication-preferences">Email preferences</a>        </li>

      </ul>
    </nav>
  </footer>
</div>
  </div>
<div vocab="http://schema.org/" typeof="TechArticle"><span property="learningResourceType" content="article"></span><span property="headline" content="API without Secrets: Introduction to Vulkan* Part 3: First Triangle"></span><span property="name" content="API without Secrets: Introduction to Vulkan* Part 3: First Triangle"></span><div property="author" typeof="Person"><meta property="name" content="Pawel L."></div><span property="datePublished" content="2016-04-06 10:52:52"></span><span property="dateModified" content="2019-11-25 13:50:14"></span><span property="url" content="https://software.intel.com/articles/api-without-secrets-introduction-to-vulkan-part-3"></span><div property="image" typeof="ImageObject"><img class="element-invisible" src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/search_publish_icon.jpeg" property="url"><meta property="name" content="thumbnail"><meta property="width" content="54"><meta property="height" content="54"></div><span property="inLanguage" content="en"></span><span property="thumbnailURL" content="https://software.intel.com/sites/default/files/d9/e4/search_publish_icon.jpeg"></span><span property="audience" content="20807,Beginner,20808,Intermediate"></span><span property="keywords" content="20787,Linux*,86070,Microsoft Windows*,20802,C/C++,36920,OpenGL*,86573,Vulkan*,85764,Game Development,20864,Graphics,80675,Rendering,86469,Gameteam"></span>
    <meta property="mainEntityOfPage" href="https://software.intel.com">
      <div property="publisher" typeof="Organization">
      <div property="logo" typeof="ImageObject">
        <img class="element-invisible" src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/intel_blue.png" property="url">
        <meta property="name" content="thumbnail">
        <meta property="width" content="86">
        <meta property="height" content="60">
      </div>
      <meta property="name" content="Intel">
    </div></div>
  <div class="region region-page-bottom">
    
<!--[if lte IE 9]>
<script> if(jQuery('html.lt-ie10.js')) { jQuery(document).ready(function () {jQuery('form').h5Validate();}); }</script>
<![endif]-->

  </div>
<script src="API%20without%20Secrets_%20Introduction%20to%20Vulkan_%20Part%203_%20First%20Triangle%20_%20Intel%C2%AE%20Software_files/js_Xg8dVkAiTDNo7NvNdOFzvO8jXSA9esTEOhOwbI61jf4.js"></script>



<deepl-input-controller translate="no"></deepl-input-controller></body></html>
<!--
     FILE ARCHIVED ON 05:13:37 May 03, 2020 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:53:25 Sep 10, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 0.768
  exclusion.robots: 0.039
  exclusion.robots.policy: 0.025
  esindex: 0.013
  cdx.remote: 6.863
  LoadShardBlock: 73.541 (3)
  PetaboxLoader3.datanode: 84.833 (4)
  load_resource: 361.258
  PetaboxLoader3.resolve: 335.647
-->